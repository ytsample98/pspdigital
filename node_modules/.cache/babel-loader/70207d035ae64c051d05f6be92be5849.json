{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\dashboard\\\\Dashboard.js\";\nimport React, { Component } from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport { db } from \"../../firebase\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport \"chart.js\";\n\nclass Dashboard extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      activities: [],\n      lineData: null,\n      barData: null\n    };\n\n    this.buildLineChart = () => {\n      const {\n        activities\n      } = this.state;\n      const grouped = {};\n      activities.forEach(a => {\n        const date = a.date;\n        if (!grouped[date]) grouped[date] = {};\n        if (!grouped[date][a.source]) grouped[date][a.source] = 0;\n        grouped[date][a.source]++;\n      });\n      const labels = Object.keys(grouped).sort();\n      const sources = [\"Call\", \"Meeting\", \"Demo\", \"Mail\", \"Whatsapp\"];\n      const datasets = sources.map((src, i) => ({\n        label: src,\n        data: labels.map(d => grouped[d][src] || 0),\n        borderColor: this.getColor(i),\n        backgroundColor: this.getColor(i, 0.3),\n        fill: false\n      }));\n      this.setState({\n        lineData: {\n          labels,\n          datasets\n        }\n      });\n    };\n\n    this.buildBarChart = () => {\n      const {\n        activities\n      } = this.state;\n      const grouped = {};\n      activities.forEach(a => {\n        const company = a.acname || \"Unknown\";\n        if (!grouped[company]) grouped[company] = {};\n        if (!grouped[company][a.source]) grouped[company][a.source] = 0;\n        grouped[company][a.source]++;\n      });\n      const labels = Object.keys(grouped);\n      const sources = [\"Call\", \"Meeting\", \"Demo\", \"Mail\", \"Whatsapp\"];\n      const datasets = sources.map((src, i) => ({\n        label: src,\n        data: labels.map(c => grouped[c][src] || 0),\n        backgroundColor: this.getColor(i, 0.6)\n      }));\n      this.setState({\n        barData: {\n          labels,\n          datasets\n        }\n      });\n    };\n\n    this.getColor = (i, alpha = 1) => {\n      const colors = [`rgba(75,192,192,${alpha})`, `rgba(153,102,255,${alpha})`, `rgba(255,159,64,${alpha})`, `rgba(54,162,235,${alpha})`, `rgba(255,99,132,${alpha})`];\n      return colors[i % colors.length];\n    };\n  }\n\n  componentDidMount() {\n    // real-time listener\n    onSnapshot(collection(db, \"activities\"), snapshot => {\n      const activities = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      this.setState({\n        activities\n      }, () => {\n        this.buildLineChart();\n        this.buildBarChart();\n      });\n    });\n  }\n\n  render() {\n    const {\n      lineData,\n      barData\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"p-3 shadow-sm bg-white border-0 mb-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, \"Sales Statistics Overview\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 15\n      }\n    }, \"Lorem ipsum is placeholder text commonly used\"), lineData && /*#__PURE__*/React.createElement(Line, {\n      data: lineData,\n      options: {\n        responsive: true,\n        legend: {\n          position: \"top\"\n        },\n        scales: {\n          xAxes: [{\n            stacked: false\n          }],\n          yAxes: [{\n            stacked: false,\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      },\n      height: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      md: 12,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      className: \"p-3 shadow-sm bg-white border-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }, \"Market Overview\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 15\n      }\n    }, \"Lorem ipsum dolor sit amet consectetur.\"), barData && /*#__PURE__*/React.createElement(Bar, {\n      data: barData,\n      options: {\n        responsive: true,\n        legend: {\n          position: \"top\"\n        },\n        scales: {\n          xAxes: [{\n            stacked: true\n          }],\n          yAxes: [{\n            stacked: true,\n            ticks: {\n              beginAtZero: true\n            }\n          }]\n        }\n      },\n      height: 100,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    })))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/dashboard/Dashboard.js"],"names":["React","Component","Card","Row","Col","db","collection","onSnapshot","Line","Bar","Dashboard","state","activities","lineData","barData","buildLineChart","grouped","forEach","a","date","source","labels","Object","keys","sort","sources","datasets","map","src","i","label","data","d","borderColor","getColor","backgroundColor","fill","setState","buildBarChart","company","acname","c","alpha","colors","length","componentDidMount","snapshot","docs","doc","id","render","responsive","legend","position","scales","xAxes","stacked","yAxes","ticks","beginAtZero"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,EAAeC,GAAf,EAAoBC,GAApB,QAA+B,iBAA/B;AACA,SAASC,EAAT,QAAmB,gBAAnB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,oBAAvC;AACA,SAASC,IAAT,EAAeC,GAAf,QAA0B,iBAA1B;AACA,OAAO,UAAP;;AAEA,MAAMC,SAAN,SAAwBT,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCU,KADgC,GACxB;AACNC,MAAAA,UAAU,EAAE,EADN;AAENC,MAAAA,QAAQ,EAAE,IAFJ;AAGNC,MAAAA,OAAO,EAAE;AAHH,KADwB;;AAAA,SAqBhCC,cArBgC,GAqBf,MAAM;AACrB,YAAM;AAAEH,QAAAA;AAAF,UAAiB,KAAKD,KAA5B;AACA,YAAMK,OAAO,GAAG,EAAhB;AAEAJ,MAAAA,UAAU,CAACK,OAAX,CAAoBC,CAAD,IAAO;AACxB,cAAMC,IAAI,GAAGD,CAAC,CAACC,IAAf;AACA,YAAI,CAACH,OAAO,CAACG,IAAD,CAAZ,EAAoBH,OAAO,CAACG,IAAD,CAAP,GAAgB,EAAhB;AACpB,YAAI,CAACH,OAAO,CAACG,IAAD,CAAP,CAAcD,CAAC,CAACE,MAAhB,CAAL,EAA8BJ,OAAO,CAACG,IAAD,CAAP,CAAcD,CAAC,CAACE,MAAhB,IAA0B,CAA1B;AAC9BJ,QAAAA,OAAO,CAACG,IAAD,CAAP,CAAcD,CAAC,CAACE,MAAhB;AACD,OALD;AAOA,YAAMC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYP,OAAZ,EAAqBQ,IAArB,EAAf;AACA,YAAMC,OAAO,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,MAApB,EAA4B,MAA5B,EAAoC,UAApC,CAAhB;AAEA,YAAMC,QAAQ,GAAGD,OAAO,CAACE,GAAR,CAAY,CAACC,GAAD,EAAMC,CAAN,MAAa;AACxCC,QAAAA,KAAK,EAAEF,GADiC;AAExCG,QAAAA,IAAI,EAAEV,MAAM,CAACM,GAAP,CAAYK,CAAD,IAAOhB,OAAO,CAACgB,CAAD,CAAP,CAAWJ,GAAX,KAAmB,CAArC,CAFkC;AAGxCK,QAAAA,WAAW,EAAE,KAAKC,QAAL,CAAcL,CAAd,CAH2B;AAIxCM,QAAAA,eAAe,EAAE,KAAKD,QAAL,CAAcL,CAAd,EAAiB,GAAjB,CAJuB;AAKxCO,QAAAA,IAAI,EAAE;AALkC,OAAb,CAAZ,CAAjB;AAQA,WAAKC,QAAL,CAAc;AAAExB,QAAAA,QAAQ,EAAE;AAAEQ,UAAAA,MAAF;AAAUK,UAAAA;AAAV;AAAZ,OAAd;AACD,KA5C+B;;AAAA,SA8ChCY,aA9CgC,GA8ChB,MAAM;AACpB,YAAM;AAAE1B,QAAAA;AAAF,UAAiB,KAAKD,KAA5B;AACA,YAAMK,OAAO,GAAG,EAAhB;AAEAJ,MAAAA,UAAU,CAACK,OAAX,CAAoBC,CAAD,IAAO;AACxB,cAAMqB,OAAO,GAAGrB,CAAC,CAACsB,MAAF,IAAY,SAA5B;AACA,YAAI,CAACxB,OAAO,CAACuB,OAAD,CAAZ,EAAuBvB,OAAO,CAACuB,OAAD,CAAP,GAAmB,EAAnB;AACvB,YAAI,CAACvB,OAAO,CAACuB,OAAD,CAAP,CAAiBrB,CAAC,CAACE,MAAnB,CAAL,EAAiCJ,OAAO,CAACuB,OAAD,CAAP,CAAiBrB,CAAC,CAACE,MAAnB,IAA6B,CAA7B;AACjCJ,QAAAA,OAAO,CAACuB,OAAD,CAAP,CAAiBrB,CAAC,CAACE,MAAnB;AACD,OALD;AAOA,YAAMC,MAAM,GAAGC,MAAM,CAACC,IAAP,CAAYP,OAAZ,CAAf;AACA,YAAMS,OAAO,GAAG,CAAC,MAAD,EAAS,SAAT,EAAoB,MAApB,EAA4B,MAA5B,EAAoC,UAApC,CAAhB;AAEA,YAAMC,QAAQ,GAAGD,OAAO,CAACE,GAAR,CAAY,CAACC,GAAD,EAAMC,CAAN,MAAa;AACxCC,QAAAA,KAAK,EAAEF,GADiC;AAExCG,QAAAA,IAAI,EAAEV,MAAM,CAACM,GAAP,CAAYc,CAAD,IAAOzB,OAAO,CAACyB,CAAD,CAAP,CAAWb,GAAX,KAAmB,CAArC,CAFkC;AAGxCO,QAAAA,eAAe,EAAE,KAAKD,QAAL,CAAcL,CAAd,EAAiB,GAAjB;AAHuB,OAAb,CAAZ,CAAjB;AAMA,WAAKQ,QAAL,CAAc;AAAEvB,QAAAA,OAAO,EAAE;AAAEO,UAAAA,MAAF;AAAUK,UAAAA;AAAV;AAAX,OAAd;AACD,KAnE+B;;AAAA,SAqEhCQ,QArEgC,GAqErB,CAACL,CAAD,EAAIa,KAAK,GAAG,CAAZ,KAAkB;AAC3B,YAAMC,MAAM,GAAG,CACZ,mBAAkBD,KAAM,GADZ,EAEZ,oBAAmBA,KAAM,GAFb,EAGZ,mBAAkBA,KAAM,GAHZ,EAIZ,mBAAkBA,KAAM,GAJZ,EAKZ,mBAAkBA,KAAM,GALZ,CAAf;AAOA,aAAOC,MAAM,CAACd,CAAC,GAAGc,MAAM,CAACC,MAAZ,CAAb;AACD,KA9E+B;AAAA;;AAOhCC,EAAAA,iBAAiB,GAAG;AAClB;AACAtC,IAAAA,UAAU,CAACD,UAAU,CAACD,EAAD,EAAK,YAAL,CAAX,EAAgCyC,QAAD,IAAc;AACrD,YAAMlC,UAAU,GAAGkC,QAAQ,CAACC,IAAT,CAAcpB,GAAd,CAAmBqB,GAAD,KAAU;AAC7CC,QAAAA,EAAE,EAAED,GAAG,CAACC,EADqC;AAE7C,WAAGD,GAAG,CAACjB,IAAJ;AAF0C,OAAV,CAAlB,CAAnB;AAIA,WAAKM,QAAL,CAAc;AAAEzB,QAAAA;AAAF,OAAd,EAA8B,MAAM;AAClC,aAAKG,cAAL;AACA,aAAKuB,aAAL;AACD,OAHD;AAID,KATS,CAAV;AAUD;;AA6DDY,EAAAA,MAAM,GAAG;AACP,UAAM;AAAErC,MAAAA,QAAF;AAAYC,MAAAA;AAAZ,QAAwB,KAAKH,KAAnC;AAEA,wBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,sCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDAFF,EAGGE,QAAQ,iBACP,oBAAC,IAAD;AACE,MAAA,IAAI,EAAEA,QADR;AAEE,MAAA,OAAO,EAAE;AACPsC,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAFD;AAGPC,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAAD,CADD;AAENC,UAAAA,KAAK,EAAE,CAAC;AAAED,YAAAA,OAAO,EAAE,KAAX;AAAkBE,YAAAA,KAAK,EAAE;AAAEC,cAAAA,WAAW,EAAE;AAAf;AAAzB,WAAD;AAFD;AAHD,OAFX;AAUE,MAAA,MAAM,EAAE,GAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADF,CADF,eAsBE,oBAAC,GAAD;AAAK,MAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,iCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAFF,EAGG7C,OAAO,iBACN,oBAAC,GAAD;AACE,MAAA,IAAI,EAAEA,OADR;AAEE,MAAA,OAAO,EAAE;AACPqC,QAAAA,UAAU,EAAE,IADL;AAEPC,QAAAA,MAAM,EAAE;AAAEC,UAAAA,QAAQ,EAAE;AAAZ,SAFD;AAGPC,QAAAA,MAAM,EAAE;AACNC,UAAAA,KAAK,EAAE,CAAC;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAAD,CADD;AAENC,UAAAA,KAAK,EAAE,CAAC;AAAED,YAAAA,OAAO,EAAE,IAAX;AAAiBE,YAAAA,KAAK,EAAE;AAAEC,cAAAA,WAAW,EAAE;AAAf;AAAxB,WAAD;AAFD;AAHD,OAFX;AAUE,MAAA,MAAM,EAAE,GAVV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADF,CAtBF,CADF,CADF;AA+CD;;AAlI+B;;AAqIlC,eAAejD,SAAf","sourcesContent":["import React, { Component } from \"react\";\nimport { Card, Row, Col } from \"react-bootstrap\";\nimport { db } from \"../../firebase\";\nimport { collection, onSnapshot } from \"firebase/firestore\";\nimport { Line, Bar } from \"react-chartjs-2\";\nimport \"chart.js\";\n\nclass Dashboard extends Component {\n  state = {\n    activities: [],\n    lineData: null,\n    barData: null,\n  };\n\n  componentDidMount() {\n    // real-time listener\n    onSnapshot(collection(db, \"activities\"), (snapshot) => {\n      const activities = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      this.setState({ activities }, () => {\n        this.buildLineChart();\n        this.buildBarChart();\n      });\n    });\n  }\n\n  buildLineChart = () => {\n    const { activities } = this.state;\n    const grouped = {};\n\n    activities.forEach((a) => {\n      const date = a.date;\n      if (!grouped[date]) grouped[date] = {};\n      if (!grouped[date][a.source]) grouped[date][a.source] = 0;\n      grouped[date][a.source]++;\n    });\n\n    const labels = Object.keys(grouped).sort();\n    const sources = [\"Call\", \"Meeting\", \"Demo\", \"Mail\", \"Whatsapp\"];\n\n    const datasets = sources.map((src, i) => ({\n      label: src,\n      data: labels.map((d) => grouped[d][src] || 0),\n      borderColor: this.getColor(i),\n      backgroundColor: this.getColor(i, 0.3),\n      fill: false,\n    }));\n\n    this.setState({ lineData: { labels, datasets } });\n  };\n\n  buildBarChart = () => {\n    const { activities } = this.state;\n    const grouped = {};\n\n    activities.forEach((a) => {\n      const company = a.acname || \"Unknown\";\n      if (!grouped[company]) grouped[company] = {};\n      if (!grouped[company][a.source]) grouped[company][a.source] = 0;\n      grouped[company][a.source]++;\n    });\n\n    const labels = Object.keys(grouped);\n    const sources = [\"Call\", \"Meeting\", \"Demo\", \"Mail\", \"Whatsapp\"];\n\n    const datasets = sources.map((src, i) => ({\n      label: src,\n      data: labels.map((c) => grouped[c][src] || 0),\n      backgroundColor: this.getColor(i, 0.6),\n    }));\n\n    this.setState({ barData: { labels, datasets } });\n  };\n\n  getColor = (i, alpha = 1) => {\n    const colors = [\n      `rgba(75,192,192,${alpha})`,\n      `rgba(153,102,255,${alpha})`,\n      `rgba(255,159,64,${alpha})`,\n      `rgba(54,162,235,${alpha})`,\n      `rgba(255,99,132,${alpha})`,\n    ];\n    return colors[i % colors.length];\n  };\n\n  render() {\n    const { lineData, barData } = this.state;\n\n    return (\n      <div className=\"container mt-4\">\n        <Row>\n          <Col md={12}>\n            <Card className=\"p-3 shadow-sm bg-white border-0 mb-4\">\n              <h5>Sales Statistics Overview</h5>\n              <p>Lorem ipsum is placeholder text commonly used</p>\n              {lineData && (\n                <Line\n                  data={lineData}\n                  options={{\n                    responsive: true,\n                    legend: { position: \"top\" },\n                    scales: {\n                      xAxes: [{ stacked: false }],\n                      yAxes: [{ stacked: false, ticks: { beginAtZero: true } }],\n                    },\n                  }}\n                  height={100}\n                />\n              )}\n            </Card>\n          </Col>\n\n          <Col md={12}>\n            <Card className=\"p-3 shadow-sm bg-white border-0\">\n              <h5>Market Overview</h5>\n              <p>Lorem ipsum dolor sit amet consectetur.</p>\n              {barData && (\n                <Bar\n                  data={barData}\n                  options={{\n                    responsive: true,\n                    legend: { position: \"top\" },\n                    scales: {\n                      xAxes: [{ stacked: true }],\n                      yAxes: [{ stacked: true, ticks: { beginAtZero: true } }],\n                    },\n                  }}\n                  height={100}\n                />\n              )}\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}