{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\inventory\\\\CurrencyPage.js\";\nimport React, { Component } from 'react';\nimport Papa from 'papaparse';\nimport { db } from '../../firebase';\nimport { collection, addDoc, getDocs } from 'firebase/firestore';\n\nclass CurrencyPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currencies: [],\n      file: null\n    };\n\n    this.handleFileChange = e => {\n      this.setState({\n        file: e.target.files[0]\n      });\n    };\n\n    this.handleUpload = () => {\n      if (!this.state.file) return alert('Upload a CSV file first');\n      Papa.parse(this.state.file, {\n        header: true,\n        skipEmptyLines: true,\n        complete: async result => {\n          const currencies = result.data.map(row => ({\n            code: row['Currency'],\n            name: row['Name'] // Change these to your actual column names\n\n          }));\n\n          for (const cur of currencies) {\n            await addDoc(collection(db, 'currencies'), cur);\n          }\n\n          this.setState({\n            currencies\n          });\n          alert('Currencies saved to Firestore!');\n        }\n      });\n    };\n\n    this.componentDidMount = async () => {\n      const snap = await getDocs(collection(db, 'currencies'));\n      const currencies = snap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      this.setState({\n        currencies\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }\n    }, \"Currency Master\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"file\",\n      accept: \".csv\",\n      onChange: this.handleFileChange,\n      className: \"form-control-file mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleUpload,\n      className: \"btn btn-primary btn-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, \"Upload CSV\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-sm table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 24\n      }\n    }, \"Currency\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 41\n      }\n    }, \"Name\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, this.state.currencies.map((c, idx) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 31\n      }\n    }, c.code), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 48\n      }\n    }, c.name))), this.state.currencies.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 54\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 58\n      }\n    }, \"No data\"))))));\n  }\n\n}\n\nexport default CurrencyPage;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/inventory/CurrencyPage.js"],"names":["React","Component","Papa","db","collection","addDoc","getDocs","CurrencyPage","state","currencies","file","handleFileChange","e","setState","target","files","handleUpload","alert","parse","header","skipEmptyLines","complete","result","data","map","row","code","name","cur","componentDidMount","snap","docs","doc","id","render","c","idx","length"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,SAASC,EAAT,QAAmB,gBAAnB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,OAA7B,QAA4C,oBAA5C;;AAEA,MAAMC,YAAN,SAA2BN,SAA3B,CAAqC;AAAA;AAAA;AAAA,SACnCO,KADmC,GAC3B;AACNC,MAAAA,UAAU,EAAE,EADN;AAENC,MAAAA,IAAI,EAAE;AAFA,KAD2B;;AAAA,SAMnCC,gBANmC,GAMfC,CAAD,IAAO;AACxB,WAAKC,QAAL,CAAc;AAAEH,QAAAA,IAAI,EAAEE,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf;AAAR,OAAd;AACD,KARkC;;AAAA,SAUnCC,YAVmC,GAUpB,MAAM;AACnB,UAAI,CAAC,KAAKR,KAAL,CAAWE,IAAhB,EAAsB,OAAOO,KAAK,CAAC,yBAAD,CAAZ;AAEtBf,MAAAA,IAAI,CAACgB,KAAL,CAAW,KAAKV,KAAL,CAAWE,IAAtB,EAA4B;AAC1BS,QAAAA,MAAM,EAAE,IADkB;AAE1BC,QAAAA,cAAc,EAAE,IAFU;AAG1BC,QAAAA,QAAQ,EAAE,MAAOC,MAAP,IAAkB;AAC1B,gBAAMb,UAAU,GAAGa,MAAM,CAACC,IAAP,CAAYC,GAAZ,CAAgBC,GAAG,KAAK;AACzCC,YAAAA,IAAI,EAAED,GAAG,CAAC,UAAD,CADgC;AAClBE,YAAAA,IAAI,EAAEF,GAAG,CAAC,MAAD,CADS,CACA;;AADA,WAAL,CAAnB,CAAnB;;AAIA,eAAK,MAAMG,GAAX,IAAkBnB,UAAlB,EAA8B;AAC5B,kBAAMJ,MAAM,CAACD,UAAU,CAACD,EAAD,EAAK,YAAL,CAAX,EAA+ByB,GAA/B,CAAZ;AACD;;AAED,eAAKf,QAAL,CAAc;AAAEJ,YAAAA;AAAF,WAAd;AACAQ,UAAAA,KAAK,CAAC,gCAAD,CAAL;AACD;AAdyB,OAA5B;AAgBD,KA7BkC;;AAAA,SA+BnCY,iBA/BmC,GA+Bf,YAAY;AAC9B,YAAMC,IAAI,GAAG,MAAMxB,OAAO,CAACF,UAAU,CAACD,EAAD,EAAK,YAAL,CAAX,CAA1B;AACA,YAAMM,UAAU,GAAGqB,IAAI,CAACC,IAAL,CAAUP,GAAV,CAAcQ,GAAG,KAAK;AAAEC,QAAAA,EAAE,EAAED,GAAG,CAACC,EAAV;AAAc,WAAGD,GAAG,CAACT,IAAJ;AAAjB,OAAL,CAAjB,CAAnB;AACA,WAAKV,QAAL,CAAc;AAAEJ,QAAAA;AAAF,OAAd;AACD,KAnCkC;AAAA;;AAqCnCyB,EAAAA,MAAM,GAAG;AACP,wBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,eAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,MAAM,EAAC,MAA1B;AAAiC,MAAA,QAAQ,EAAE,KAAKvB,gBAAhD;AAAkE,MAAA,SAAS,EAAC,wBAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAQ,MAAA,OAAO,EAAE,KAAKK,YAAtB;AAAoC,MAAA,SAAS,EAAC,wBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,+BAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAJ,eAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAArB,CAAP,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKR,KAAL,CAAWC,UAAX,CAAsBe,GAAtB,CAA0B,CAACW,CAAD,EAAIC,GAAJ,kBACzB;AAAI,MAAA,GAAG,EAAEA,GAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKD,CAAC,CAACT,IAAP,CAAd,eAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKS,CAAC,CAACR,IAAP,CAA/B,CADD,CADH,EAIG,KAAKnB,KAAL,CAAWC,UAAX,CAAsB4B,MAAtB,KAAiC,CAAjC,iBAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAI,MAAA,OAAO,EAAC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAJ,CAJzC,CAFF,CADF,CAJF,CADF;AAkBD;;AAxDkC;;AA2DrC,eAAe9B,YAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Papa from 'papaparse';\r\nimport { db } from '../../firebase';\r\nimport { collection, addDoc, getDocs } from 'firebase/firestore';\r\n\r\nclass CurrencyPage extends Component {\r\n  state = {\r\n    currencies: [],\r\n    file: null\r\n  };\r\n\r\n  handleFileChange = (e) => {\r\n    this.setState({ file: e.target.files[0] });\r\n  };\r\n\r\n  handleUpload = () => {\r\n    if (!this.state.file) return alert('Upload a CSV file first');\r\n\r\n    Papa.parse(this.state.file, {\r\n      header: true,\r\n      skipEmptyLines: true,\r\n      complete: async (result) => {\r\n        const currencies = result.data.map(row => ({\r\n          code: row['Currency'], name: row['Name'] // Change these to your actual column names\r\n        }));\r\n\r\n        for (const cur of currencies) {\r\n          await addDoc(collection(db, 'currencies'), cur);\r\n        }\r\n\r\n        this.setState({ currencies });\r\n        alert('Currencies saved to Firestore!');\r\n      }\r\n    });\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    const snap = await getDocs(collection(db, 'currencies'));\r\n    const currencies = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    this.setState({ currencies });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container mt-3\">\r\n        <h4>Currency Master</h4>\r\n        <input type=\"file\" accept=\".csv\" onChange={this.handleFileChange} className=\"form-control-file mb-2\" />\r\n        <button onClick={this.handleUpload} className=\"btn btn-primary btn-sm\">Upload CSV</button>\r\n        <div className=\"mt-3\">\r\n          <table className=\"table table-sm table-bordered\">\r\n            <thead><tr><th>Currency</th><th>Name</th></tr></thead>\r\n            <tbody>\r\n              {this.state.currencies.map((c, idx) => (\r\n                <tr key={idx}><td>{c.code}</td><td>{c.name}</td></tr>\r\n              ))}\r\n              {this.state.currencies.length === 0 && <tr><td colSpan=\"2\">No data</td></tr>}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CurrencyPage;\r\n"]},"metadata":{},"sourceType":"module"}