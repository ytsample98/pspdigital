{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\inventory\\\\UOMPage.js\";\n// UOMForm.js (React 16 + Bootstrap compatible with your sidebar and route setup)\nimport React, { Component } from 'react';\nimport { db } from '../../firebase';\nimport { Dropdown } from 'react-bootstrap';\nimport { collection, getDocs, addDoc, deleteDoc, doc } from 'firebase/firestore';\nimport '../../assets/styles/components/_custom-table.scss';\n\nclass UOMPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      uoms: [],\n      showForm: false,\n      editingIndex: null,\n      formData: {\n        name: '',\n        description: ''\n      }\n    };\n\n    this.fetchUOMs = async () => {\n      const snap = await getDocs(collection(db, 'uoms'));\n      const data = snap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      this.setState({\n        uoms: data\n      });\n    };\n\n    this.toggleForm = (index = null) => {\n      if (index !== null) {\n        this.setState({\n          showForm: true,\n          editingIndex: index,\n          formData: { ...this.state.uoms[index]\n          }\n        });\n      } else {\n        this.setState({\n          showForm: true,\n          editingIndex: null,\n          formData: {\n            name: '',\n            description: ''\n          }\n        });\n      }\n    };\n\n    this.handleChange = (field, value) => {\n      this.setState(prev => ({\n        formData: { ...prev.formData,\n          [field]: value\n        }\n      }));\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        editingIndex,\n        formData,\n        uoms\n      } = this.state;\n      if (!formData.name) return alert('UOM Name is required.');\n\n      if (editingIndex !== null) {\n        const docId = uoms[editingIndex].id;\n        await deleteDoc(doc(db, 'uoms', docId));\n      }\n\n      await addDoc(collection(db, 'uoms'), formData);\n      this.setState({\n        showForm: false,\n        editingIndex: null\n      });\n      this.fetchUOMs();\n    };\n\n    this.handleDelete = async index => {\n      const id = this.state.uoms[index].id;\n      await deleteDoc(doc(db, 'uoms', id));\n      this.fetchUOMs();\n    };\n\n    this.renderForm = () => {\n      const {\n        formData\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        className: \"card full-height\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: 'auto',\n          padding: '24px'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 10\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 9\n        }\n      }, this.state.editingIndex !== null ? 'Edit UOM' : 'New UOM'), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-sm-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 8\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }\n      }, \"UOM Name *\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.name,\n        onChange: e => this.handleChange('name', e.target.value),\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }\n      }, \"Description\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.description,\n        onChange: e => this.handleChange('description', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fixed-card-footer right\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 9\n        }\n      }, \"\\\"\", /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 9\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: () => this.setState({\n          showForm: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 9\n        }\n      }, \"Cancel\"))));\n    };\n\n    this.renderTable = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mt-4 full-height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \"UOM Master\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.toggleForm(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"+ Add UOM\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"custom-table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }\n    }, \"UOM\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, \"Description\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, this.state.uoms.map((u, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: u.id,\n      style: {\n        height: '50px',\n        verticalAlign: 'middle'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-link p-0\",\n      onClick: () => this.toggleForm(i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 23\n      }\n    }, u.name)), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, u.description))), this.state.uoms.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"3\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 21\n      }\n    }, \"No UOMs added yet.\")))))));\n  }\n\n  componentDidMount() {\n    this.fetchUOMs();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 12\n      }\n    }, this.state.showForm ? this.renderForm() : this.renderTable());\n  }\n\n}\n\nexport default UOMPage;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/inventory/UOMPage.js"],"names":["React","Component","db","Dropdown","collection","getDocs","addDoc","deleteDoc","doc","UOMPage","state","uoms","showForm","editingIndex","formData","name","description","fetchUOMs","snap","data","docs","map","id","setState","toggleForm","index","handleChange","field","value","prev","handleSubmit","e","preventDefault","alert","docId","handleDelete","renderForm","flex","overflowY","padding","target","renderTable","u","i","height","verticalAlign","length","componentDidMount","render"],"mappings":"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","sourcesContent":["// UOMForm.js (React 16 + Bootstrap compatible with your sidebar and route setup)\r\nimport React, { Component } from 'react';\r\nimport { db } from '../../firebase';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { collection, getDocs, addDoc, deleteDoc, doc } from 'firebase/firestore';\r\nimport '../../assets/styles/components/_custom-table.scss';\r\n\r\nclass UOMPage extends Component {\r\n  state = {\r\n    uoms: [],\r\n    showForm: false,\r\n    editingIndex: null,\r\n    formData: { name: '', description: '' },\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchUOMs();\r\n  }\r\n\r\n  fetchUOMs = async () => {\r\n    const snap = await getDocs(collection(db, 'uoms'));\r\n    const data = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    this.setState({ uoms: data });\r\n  };\r\n\r\n  toggleForm = (index = null) => {\r\n    if (index !== null) {\r\n      this.setState({\r\n        showForm: true,\r\n        editingIndex: index,\r\n        formData: { ...this.state.uoms[index] },\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showForm: true,\r\n        editingIndex: null,\r\n        formData: { name: '', description: '' },\r\n      });\r\n    }\r\n  };\r\n\r\n  handleChange = (field, value) => {\r\n    this.setState(prev => ({ formData: { ...prev.formData, [field]: value } }));\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { editingIndex, formData, uoms } = this.state;\r\n    if (!formData.name) return alert('UOM Name is required.');\r\n\r\n    if (editingIndex !== null) {\r\n      const docId = uoms[editingIndex].id;\r\n      await deleteDoc(doc(db, 'uoms', docId));\r\n    }\r\n\r\n    await addDoc(collection(db, 'uoms'), formData);\r\n    this.setState({ showForm: false, editingIndex: null });\r\n    this.fetchUOMs();\r\n  };\r\n\r\n  handleDelete = async (index) => {\r\n    const id = this.state.uoms[index].id;\r\n    await deleteDoc(doc(db, 'uoms', id));\r\n    this.fetchUOMs();\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { formData } = this.state;\r\n    return (\r\n      <form className=\"card full-height\" onSubmit={this.handleSubmit}>\r\n         <div style={{ flex: 1, overflowY: 'auto', padding: '24px' }}>\r\n        <h4 className=\"mb-3\">{this.state.editingIndex !== null ? 'Edit UOM' : 'New UOM'}</h4>\r\n        <div className=\"form-row\">\r\n       <div className=\"form-group col-sm-3\">\r\n          <label>UOM Name *</label>\r\n          <input\r\n            className=\"form-control\"\r\n            value={formData.name}\r\n            onChange={e => this.handleChange('name', e.target.value)}\r\n            required\r\n          />\r\n          </div>\r\n        <div className=\"form-group col-md-6\">\r\n          <label>Description</label>\r\n          <input\r\n            className=\"form-control\"\r\n            value={formData.description}\r\n            onChange={e => this.handleChange('description', e.target.value)}\r\n          />\r\n        </div>\r\n        </div>\r\n        <div className=\"fixed-card-footer right\">\r\n\"\r\n        <button type=\"submit\" className=\"btn btn-success\">Save</button>\r\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={() => this.setState({ showForm: false })}>Cancel</button>\r\n        </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  renderTable = () => (\r\n    \r\n    <div className=\"card mt-4 full-height\">\r\n      <div className=\"card-body\">\r\n        <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <h4 className=\"card-title\">UOM Master</h4>\r\n          <button className=\"btn btn-primary\" onClick={() => this.toggleForm()}>+ Add UOM</button>\r\n        </div>\r\n        <div className=\"custom-table-responsive\">\r\n          <table className=\"table table-bordered \">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                <th>UOM</th>\r\n                <th>Description</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.uoms.map((u, i) => (\r\n                <tr key={u.id} style={{height:'50px',verticalAlign:'middle'}}>\r\n                  <td><button className='btn btn-link p-0' onClick={() => this.toggleForm(i)}>{u.name}</button></td>\r\n                  <td>{u.description}</td>\r\n                </tr>\r\n              ))}\r\n              {this.state.uoms.length === 0 && (\r\n                <tr><td colSpan=\"3\" className=\"text-center\">No UOMs added yet.</td></tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n          </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    return <div className=\"container-fluid\">{this.state.showForm ? this.renderForm() : this.renderTable()}</div>;\r\n  }\r\n}\r\n\r\nexport default UOMPage;\r\n"]},"metadata":{},"sourceType":"module"}