{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\inventory\\\\ProductMaster.js\";\n// ProductMasterForm.js (React 16 + Bootstrap + Firebase compatible with your existing structure)\nimport React, { Component } from 'react';\nimport { db } from '../../firebase';\nimport { Dropdown } from 'react-bootstrap';\nimport { collection, addDoc, getDocs, deleteDoc, doc, setDoc } from 'firebase/firestore';\n\nclass ProductMaster extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      products: [],\n      showForm: false,\n      editingId: null,\n      formData: {\n        productId: '',\n        productName: '',\n        productDName: '',\n        hsnCode: '',\n        producttype: 'Raw Material',\n        materialtype: 'Purchase',\n        buyingUOM: '',\n        sellingUOM: '',\n        stockingUOM: '',\n        isService: false,\n        isInventory: true\n      }\n    };\n\n    this.fetchProducts = async () => {\n      const snap = await getDocs(collection(db, 'products'));\n      const data = snap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      this.setState({\n        products: data\n      });\n    };\n\n    this.toggleForm = (edit = null) => {\n      if (edit) {\n        this.setState({\n          showForm: true,\n          editingId: edit.id,\n          formData: edit\n        });\n      } else {\n        this.setState({\n          showForm: true,\n          editingId: null,\n          formData: {\n            productId: '',\n            productName: '',\n            productDName: '',\n            hsnCode: '',\n            producttype: 'Raw Material',\n            materialtype: 'Purchase',\n            buyingUOM: '',\n            sellingUOM: '',\n            stockingUOM: '',\n            isService: false,\n            isInventory: true\n          }\n        });\n      }\n    };\n\n    this.handleChange = (field, value) => {\n      this.setState(prev => ({\n        formData: { ...prev.formData,\n          [field]: value\n        }\n      }));\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        editingId,\n        formData\n      } = this.state;\n      if (!formData.productName) return alert(\"Enter product name\");\n\n      if (editingId) {\n        await setDoc(doc(db, 'products', editingId), formData);\n      } else {\n        formData.productId = `P${1000 + this.state.products.length}`;\n        await addDoc(collection(db, 'products'), formData);\n      }\n\n      this.setState({\n        showForm: false,\n        editingId: null\n      });\n      this.fetchProducts();\n    };\n\n    this.handleDelete = async id => {\n      await deleteDoc(doc(db, 'products', id));\n      this.fetchProducts();\n    };\n\n    this.renderForm = () => {\n      const {\n        formData\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"form\", {\n        className: \"card p-4 mt-3\",\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, this.state.editingId ? 'Edit Product' : 'New Product'), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }\n      }, \"Product Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.productName,\n        onChange: e => this.handleChange('productName', e.target.value),\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }\n      }, \"Display Name\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.productDName,\n        onChange: e => this.handleChange('productDName', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }\n      }, \"HSN Code\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.hsnCode,\n        onChange: e => this.handleChange('hsnCode', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }, \"Buying UOM\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.buyingUOM,\n        onChange: e => this.handleChange('buyingUOM', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }\n      }, \"Selling UOM\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.sellingUOM,\n        onChange: e => this.handleChange('sellingUOM', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }\n      }, \"Stocking UOM\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        value: formData.stockingUOM,\n        onChange: e => this.handleChange('stockingUOM', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group form-check\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        type: \"checkbox\",\n        checked: formData.isInventory,\n        onChange: e => this.handleChange('isInventory', e.target.checked),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, \"Is Inventory Item\")), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 9\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: () => this.setState({\n          showForm: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 9\n        }\n      }, \"Cancel\"));\n    };\n\n    this.renderTable = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 11\n      }\n    }, \"Product Master\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.toggleForm(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }\n    }, \"+ Add Product\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }\n    }, \"Inventory\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, this.state.products.map((p, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: p.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 19\n      }\n    }, p.productId), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, p.productName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 19\n      }\n    }, p.producttype), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 19\n      }\n    }, p.isInventory ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 22\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      variant: \"btn btn-outline-primary\",\n      id: \"dropdownMenuOutlineButton1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, \"Action\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.toggleForm(p),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.handleDelete(p.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 23\n      }\n    }, \"Delete\")))))), this.state.products.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 52\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"5\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 56\n      }\n    }, \"No records found\")))))));\n  }\n\n  componentDidMount() {\n    this.fetchProducts();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 12\n      }\n    }, this.state.showForm ? this.renderForm() : this.renderTable());\n  }\n\n}\n\nexport default ProductMaster;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/inventory/ProductMaster.js"],"names":["React","Component","db","Dropdown","collection","addDoc","getDocs","deleteDoc","doc","setDoc","ProductMaster","state","products","showForm","editingId","formData","productId","productName","productDName","hsnCode","producttype","materialtype","buyingUOM","sellingUOM","stockingUOM","isService","isInventory","fetchProducts","snap","data","docs","map","id","setState","toggleForm","edit","handleChange","field","value","prev","handleSubmit","e","preventDefault","alert","length","handleDelete","renderForm","target","checked","renderTable","p","i","componentDidMount","render"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,EAAT,QAAmB,gBAAnB;AACA,SAASC,QAAT,QAAyB,iBAAzB;AACA,SAASC,UAAT,EAAqBC,MAArB,EAA6BC,OAA7B,EAAsCC,SAAtC,EAAiDC,GAAjD,EAAsDC,MAAtD,QAAoE,oBAApE;;AAEA,MAAMC,aAAN,SAA4BT,SAA5B,CAAsC;AAAA;AAAA;AAAA,SACpCU,KADoC,GAC5B;AACNC,MAAAA,QAAQ,EAAE,EADJ;AAENC,MAAAA,QAAQ,EAAE,KAFJ;AAGNC,MAAAA,SAAS,EAAE,IAHL;AAINC,MAAAA,QAAQ,EAAE;AACRC,QAAAA,SAAS,EAAE,EADH;AAERC,QAAAA,WAAW,EAAE,EAFL;AAGRC,QAAAA,YAAY,EAAE,EAHN;AAIRC,QAAAA,OAAO,EAAE,EAJD;AAKRC,QAAAA,WAAW,EAAE,cALL;AAMRC,QAAAA,YAAY,EAAE,UANN;AAORC,QAAAA,SAAS,EAAE,EAPH;AAQRC,QAAAA,UAAU,EAAE,EARJ;AASRC,QAAAA,WAAW,EAAE,EATL;AAURC,QAAAA,SAAS,EAAE,KAVH;AAWRC,QAAAA,WAAW,EAAE;AAXL;AAJJ,KAD4B;;AAAA,SAwBpCC,aAxBoC,GAwBpB,YAAY;AAC1B,YAAMC,IAAI,GAAG,MAAMtB,OAAO,CAACF,UAAU,CAACF,EAAD,EAAK,UAAL,CAAX,CAA1B;AACA,YAAM2B,IAAI,GAAGD,IAAI,CAACE,IAAL,CAAUC,GAAV,CAAcvB,GAAG,KAAK;AAAEwB,QAAAA,EAAE,EAAExB,GAAG,CAACwB,EAAV;AAAc,WAAGxB,GAAG,CAACqB,IAAJ;AAAjB,OAAL,CAAjB,CAAb;AACA,WAAKI,QAAL,CAAc;AAAErB,QAAAA,QAAQ,EAAEiB;AAAZ,OAAd;AACD,KA5BmC;;AAAA,SA8BpCK,UA9BoC,GA8BvB,CAACC,IAAI,GAAG,IAAR,KAAiB;AAC5B,UAAIA,IAAJ,EAAU;AACR,aAAKF,QAAL,CAAc;AAAEpB,UAAAA,QAAQ,EAAE,IAAZ;AAAkBC,UAAAA,SAAS,EAAEqB,IAAI,CAACH,EAAlC;AAAsCjB,UAAAA,QAAQ,EAAEoB;AAAhD,SAAd;AACD,OAFD,MAEO;AACL,aAAKF,QAAL,CAAc;AACZpB,UAAAA,QAAQ,EAAE,IADE;AAEZC,UAAAA,SAAS,EAAE,IAFC;AAGZC,UAAAA,QAAQ,EAAE;AACRC,YAAAA,SAAS,EAAE,EADH;AACOC,YAAAA,WAAW,EAAE,EADpB;AACwBC,YAAAA,YAAY,EAAE,EADtC;AAC0CC,YAAAA,OAAO,EAAE,EADnD;AAERC,YAAAA,WAAW,EAAE,cAFL;AAEqBC,YAAAA,YAAY,EAAE,UAFnC;AAGRC,YAAAA,SAAS,EAAE,EAHH;AAGOC,YAAAA,UAAU,EAAE,EAHnB;AAGuBC,YAAAA,WAAW,EAAE,EAHpC;AAIRC,YAAAA,SAAS,EAAE,KAJH;AAIUC,YAAAA,WAAW,EAAE;AAJvB;AAHE,SAAd;AAUD;AACF,KA7CmC;;AAAA,SA+CpCU,YA/CoC,GA+CrB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AAC/B,WAAKL,QAAL,CAAcM,IAAI,KAAK;AAAExB,QAAAA,QAAQ,EAAE,EAAE,GAAGwB,IAAI,CAACxB,QAAV;AAAoB,WAACsB,KAAD,GAASC;AAA7B;AAAZ,OAAL,CAAlB;AACD,KAjDmC;;AAAA,SAmDpCE,YAnDoC,GAmDrB,MAAOC,CAAP,IAAa;AAC1BA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAM;AAAE5B,QAAAA,SAAF;AAAaC,QAAAA;AAAb,UAA0B,KAAKJ,KAArC;AACA,UAAI,CAACI,QAAQ,CAACE,WAAd,EAA2B,OAAO0B,KAAK,CAAC,oBAAD,CAAZ;;AAE3B,UAAI7B,SAAJ,EAAe;AACb,cAAML,MAAM,CAACD,GAAG,CAACN,EAAD,EAAK,UAAL,EAAiBY,SAAjB,CAAJ,EAAiCC,QAAjC,CAAZ;AACD,OAFD,MAEO;AACLA,QAAAA,QAAQ,CAACC,SAAT,GAAsB,IAAG,OAAO,KAAKL,KAAL,CAAWC,QAAX,CAAoBgC,MAAO,EAA3D;AACA,cAAMvC,MAAM,CAACD,UAAU,CAACF,EAAD,EAAK,UAAL,CAAX,EAA6Ba,QAA7B,CAAZ;AACD;;AAED,WAAKkB,QAAL,CAAc;AAAEpB,QAAAA,QAAQ,EAAE,KAAZ;AAAmBC,QAAAA,SAAS,EAAE;AAA9B,OAAd;AACA,WAAKa,aAAL;AACD,KAjEmC;;AAAA,SAmEpCkB,YAnEoC,GAmErB,MAAOb,EAAP,IAAc;AAC3B,YAAMzB,SAAS,CAACC,GAAG,CAACN,EAAD,EAAK,UAAL,EAAiB8B,EAAjB,CAAJ,CAAf;AACA,WAAKL,aAAL;AACD,KAtEmC;;AAAA,SAwEpCmB,UAxEoC,GAwEvB,MAAM;AACjB,YAAM;AAAE/B,QAAAA;AAAF,UAAe,KAAKJ,KAA1B;AACA,0BACE;AAAM,QAAA,SAAS,EAAC,eAAhB;AAAgC,QAAA,QAAQ,EAAE,KAAK6B,YAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAsB,KAAK7B,KAAL,CAAWG,SAAX,GAAuB,cAAvB,GAAwC,aAA9D,CADF,eAEE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAEC,QAAQ,CAACE,WAAhD;AAA6D,QAAA,QAAQ,EAAEwB,CAAC,IAAI,KAAKL,YAAL,CAAkB,aAAlB,EAAiCK,CAAC,CAACM,MAAF,CAAST,KAA1C,CAA5E;AAA8H,QAAA,QAAQ,MAAtI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,eAKE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAEvB,QAAQ,CAACG,YAAhD;AAA8D,QAAA,QAAQ,EAAEuB,CAAC,IAAI,KAAKL,YAAL,CAAkB,cAAlB,EAAkCK,CAAC,CAACM,MAAF,CAAST,KAA3C,CAA7E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CALF,eASE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAEvB,QAAQ,CAACI,OAAhD;AAAyD,QAAA,QAAQ,EAAEsB,CAAC,IAAI,KAAKL,YAAL,CAAkB,SAAlB,EAA6BK,CAAC,CAACM,MAAF,CAAST,KAAtC,CAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CATF,CAFF,eAgBE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAEvB,QAAQ,CAACO,SAAhD;AAA2D,QAAA,QAAQ,EAAEmB,CAAC,IAAI,KAAKL,YAAL,CAAkB,WAAlB,EAA+BK,CAAC,CAACM,MAAF,CAAST,KAAxC,CAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CADF,eAKE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADF,eAEE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAEvB,QAAQ,CAACQ,UAAhD;AAA4D,QAAA,QAAQ,EAAEkB,CAAC,IAAI,KAAKL,YAAL,CAAkB,YAAlB,EAAgCK,CAAC,CAACM,MAAF,CAAST,KAAzC,CAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CALF,eASE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAO,QAAA,SAAS,EAAC,cAAjB;AAAgC,QAAA,KAAK,EAAEvB,QAAQ,CAACS,WAAhD;AAA6D,QAAA,QAAQ,EAAEiB,CAAC,IAAI,KAAKL,YAAL,CAAkB,aAAlB,EAAiCK,CAAC,CAACM,MAAF,CAAST,KAA1C,CAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF,CATF,CAhBF,eA8BE;AAAK,QAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,SAAS,EAAC,kBAAjB;AAAoC,QAAA,IAAI,EAAC,UAAzC;AAAoD,QAAA,OAAO,EAAEvB,QAAQ,CAACW,WAAtE;AAAmF,QAAA,QAAQ,EAAEe,CAAC,IAAI,KAAKL,YAAL,CAAkB,aAAlB,EAAiCK,CAAC,CAACM,MAAF,CAASC,OAA1C,CAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,eAEE;AAAO,QAAA,SAAS,EAAC,kBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,CA9BF,eAkCE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,sBAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlCF,eAmCE;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,SAAS,EAAC,mBAAhC;AAAoD,QAAA,OAAO,EAAE,MAAM,KAAKf,QAAL,CAAc;AAAEpB,UAAAA,QAAQ,EAAE;AAAZ,SAAd,CAAnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAnCF,CADF;AAuCD,KAjHmC;;AAAA,SAmHpCoC,WAnHoC,GAmHtB,mBACZ;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAoC,MAAA,OAAO,EAAE,MAAM,KAAKf,UAAL,EAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,CADF,eAKE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,CADF,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKvB,KAAL,CAAWC,QAAX,CAAoBmB,GAApB,CAAwB,CAACmB,CAAD,EAAIC,CAAJ,kBACvB;AAAI,MAAA,GAAG,EAAED,CAAC,CAAClB,EAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKkB,CAAC,CAAClC,SAAP,CADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKkC,CAAC,CAACjC,WAAP,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKiC,CAAC,CAAC9B,WAAP,CAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK8B,CAAC,CAACxB,WAAF,GAAgB,KAAhB,GAAwB,IAA7B,CAJF,eAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACD,oBAAC,QAAD,CAAU,MAAV;AAAiB,MAAA,OAAO,EAAC,yBAAzB;AAAmD,MAAA,EAAE,EAAC,4BAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADC,eAID,oBAAC,QAAD,CAAU,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD,CAAU,IAAV;AAAe,MAAA,OAAO,EAAE,MAAM,KAAKQ,UAAL,CAAgBgB,CAAhB,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,oBAAC,QAAD,CAAU,IAAV;AAAe,MAAA,OAAO,EAAE,MAAM,KAAKL,YAAL,CAAkBK,CAAC,CAAClB,EAApB,CAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,CAJC,CADH,CALF,CADD,CADH,EAqBG,KAAKrB,KAAL,CAAWC,QAAX,CAAoBgC,MAApB,KAA+B,CAA/B,iBAAoC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAI;AAAI,MAAA,OAAO,EAAC,GAAZ;AAAgB,MAAA,SAAS,EAAC,aAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAJ,CArBvC,CAVF,CADF,CALF,CADF,CApHkC;AAAA;;AAoBpCQ,EAAAA,iBAAiB,GAAG;AAClB,SAAKzB,aAAL;AACD;;AA4ID0B,EAAAA,MAAM,GAAG;AACP,wBAAO;AAAK,MAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAkC,KAAK1C,KAAL,CAAWE,QAAX,GAAsB,KAAKiC,UAAL,EAAtB,GAA0C,KAAKG,WAAL,EAA5E,CAAP;AACD;;AApKmC;;AAuKtC,eAAevC,aAAf","sourcesContent":["// ProductMasterForm.js (React 16 + Bootstrap + Firebase compatible with your existing structure)\r\nimport React, { Component } from 'react';\r\nimport { db } from '../../firebase';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { collection, addDoc, getDocs, deleteDoc, doc, setDoc } from 'firebase/firestore';\r\n\r\nclass ProductMaster extends Component {\r\n  state = {\r\n    products: [],\r\n    showForm: false,\r\n    editingId: null,\r\n    formData: {\r\n      productId: '',\r\n      productName: '',\r\n      productDName: '',\r\n      hsnCode: '',\r\n      producttype: 'Raw Material',\r\n      materialtype: 'Purchase',\r\n      buyingUOM: '',\r\n      sellingUOM: '',\r\n      stockingUOM: '',\r\n      isService: false,\r\n      isInventory: true\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchProducts();\r\n  }\r\n\r\n  fetchProducts = async () => {\r\n    const snap = await getDocs(collection(db, 'products'));\r\n    const data = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    this.setState({ products: data });\r\n  };\r\n\r\n  toggleForm = (edit = null) => {\r\n    if (edit) {\r\n      this.setState({ showForm: true, editingId: edit.id, formData: edit });\r\n    } else {\r\n      this.setState({\r\n        showForm: true,\r\n        editingId: null,\r\n        formData: {\r\n          productId: '', productName: '', productDName: '', hsnCode: '',\r\n          producttype: 'Raw Material', materialtype: 'Purchase',\r\n          buyingUOM: '', sellingUOM: '', stockingUOM: '',\r\n          isService: false, isInventory: true\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  handleChange = (field, value) => {\r\n    this.setState(prev => ({ formData: { ...prev.formData, [field]: value } }));\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { editingId, formData } = this.state;\r\n    if (!formData.productName) return alert(\"Enter product name\");\r\n\r\n    if (editingId) {\r\n      await setDoc(doc(db, 'products', editingId), formData);\r\n    } else {\r\n      formData.productId = `P${1000 + this.state.products.length}`;\r\n      await addDoc(collection(db, 'products'), formData);\r\n    }\r\n\r\n    this.setState({ showForm: false, editingId: null });\r\n    this.fetchProducts();\r\n  };\r\n\r\n  handleDelete = async (id) => {\r\n    await deleteDoc(doc(db, 'products', id));\r\n    this.fetchProducts();\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { formData } = this.state;\r\n    return (\r\n      <form className=\"card p-4 mt-3\" onSubmit={this.handleSubmit}>\r\n        <h4 className=\"mb-3\">{this.state.editingId ? 'Edit Product' : 'New Product'}</h4>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-4\">\r\n            <label>Product Name</label>\r\n            <input className=\"form-control\" value={formData.productName} onChange={e => this.handleChange('productName', e.target.value)} required />\r\n          </div>\r\n          <div className=\"form-group col-md-4\">\r\n            <label>Display Name</label>\r\n            <input className=\"form-control\" value={formData.productDName} onChange={e => this.handleChange('productDName', e.target.value)} />\r\n          </div>\r\n          <div className=\"form-group col-md-4\">\r\n            <label>HSN Code</label>\r\n            <input className=\"form-control\" value={formData.hsnCode} onChange={e => this.handleChange('hsnCode', e.target.value)} />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-4\">\r\n            <label>Buying UOM</label>\r\n            <input className=\"form-control\" value={formData.buyingUOM} onChange={e => this.handleChange('buyingUOM', e.target.value)} />\r\n          </div>\r\n          <div className=\"form-group col-md-4\">\r\n            <label>Selling UOM</label>\r\n            <input className=\"form-control\" value={formData.sellingUOM} onChange={e => this.handleChange('sellingUOM', e.target.value)} />\r\n          </div>\r\n          <div className=\"form-group col-md-4\">\r\n            <label>Stocking UOM</label>\r\n            <input className=\"form-control\" value={formData.stockingUOM} onChange={e => this.handleChange('stockingUOM', e.target.value)} />\r\n          </div>\r\n        </div>\r\n        <div className=\"form-group form-check\">\r\n          <input className=\"form-check-input\" type=\"checkbox\" checked={formData.isInventory} onChange={e => this.handleChange('isInventory', e.target.checked)} />\r\n          <label className=\"form-check-label\">Is Inventory Item</label>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-success mr-2\">Save</button>\r\n        <button type=\"button\" className=\"btn btn-secondary\" onClick={() => this.setState({ showForm: false })}>Cancel</button>\r\n      </form>\r\n    );\r\n  };\r\n\r\n  renderTable = () => (\r\n    <div className=\"card\">\r\n      <div className=\"card-body\">\r\n        <div className=\"d-flex justify-content-between\">\r\n          <h4 className=\"card-title\">Product Master</h4>\r\n          <button className=\"btn btn-primary\" onClick={() => this.toggleForm()}>+ Add Product</button>\r\n        </div>\r\n        <div className=\"table-responsive mt-3\">\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Name</th>\r\n                <th>Type</th>\r\n                <th>Inventory</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.products.map((p, i) => (\r\n                <tr key={p.id}>\r\n                  <td>{p.productId}</td>\r\n                  <td>{p.productName}</td>\r\n                  <td>{p.producttype}</td>\r\n                  <td>{p.isInventory ? 'Yes' : 'No'}</td>\r\n                  <td>\r\n                     <Dropdown>\r\n                    <Dropdown.Toggle variant=\"btn btn-outline-primary\" id=\"dropdownMenuOutlineButton1\">\r\n                      Action\r\n                    </Dropdown.Toggle>\r\n                    <Dropdown.Menu>\r\n                      <Dropdown.Item onClick={() => this.toggleForm(p)}>Edit</Dropdown.Item>\r\n                      <Dropdown.Item onClick={() => this.handleDelete(p.id)}>Delete</Dropdown.Item>\r\n                    </Dropdown.Menu>\r\n                  </Dropdown>\r\n                    \r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {this.state.products.length === 0 && <tr><td colSpan=\"5\" className=\"text-center\">No records found</td></tr>}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    return <div className=\"container-fluid\">{this.state.showForm ? this.renderForm() : this.renderTable()}</div>;\r\n  }\r\n}\r\n\r\nexport default ProductMaster;\r\n"]},"metadata":{},"sourceType":"module"}