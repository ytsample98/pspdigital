{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\panelone\\\\Quote.js\";\n// Quote.js (Full Version with ProductMaster-based Line Items)\nimport React, { Component } from 'react';\nimport { db } from '../../firebase';\nimport { Dropdown } from 'react-bootstrap';\nimport { collection, getDocs, addDoc, deleteDoc, doc } from 'firebase/firestore';\n\nclass QuoteForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      quotes: [],\n      formVisible: false,\n      formData: {\n        quoteNo: '',\n        customer: '',\n        quoteDate: '',\n        quoteType: 'Standard',\n        status: 'Entered',\n        refNo: '',\n        lineItems: []\n      },\n      products: [],\n      selectedProducts: [],\n      showProductOverlay: false\n    };\n\n    this.fetchQuotes = async () => {\n      const snap = await getDocs(collection(db, 'quotes'));\n      const quotes = snap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      this.setState({\n        quotes\n      });\n    };\n\n    this.fetchProducts = async () => {\n      const snap = await getDocs(collection(db, 'products'));\n      const products = snap.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      }));\n      this.setState({\n        products\n      });\n    };\n\n    this.handleChange = (field, value) => {\n      this.setState(prev => ({\n        formData: { ...prev.formData,\n          [field]: value\n        }\n      }));\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      await addDoc(collection(db, 'quotes'), this.state.formData);\n      this.setState({\n        formVisible: false\n      });\n      this.fetchQuotes();\n    };\n\n    this.toggleProductOverlay = () => {\n      this.setState(prev => ({\n        showProductOverlay: !prev.showProductOverlay\n      }));\n    };\n\n    this.toggleProductSelection = product => {\n      const {\n        selectedProducts\n      } = this.state;\n      const exists = selectedProducts.some(p => p.id === product.id);\n      const updated = exists ? selectedProducts.filter(p => p.id !== product.id) : [...selectedProducts, product];\n      this.setState({\n        selectedProducts: updated\n      });\n    };\n\n    this.confirmProductSelection = () => {\n      this.setState(prev => ({\n        formData: { ...prev.formData,\n          lineItems: [...prev.formData.lineItems, ...prev.selectedProducts]\n        },\n        selectedProducts: [],\n        showProductOverlay: false\n      }));\n    };\n\n    this.renderForm = () => {\n      const {\n        formData,\n        products,\n        selectedProducts,\n        showProductOverlay\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mt-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, \"Quote Form\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }\n      }, \"Quote No\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        onChange: e => this.handleChange('quoteNo', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }, \"Quote Date\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"date\",\n        className: \"form-control\",\n        onChange: e => this.handleChange('quoteDate', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 17\n        }\n      }, \"Quote Type\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        value: formData.quoteType,\n        onChange: e => this.handleChange('quoteType', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 19\n        }\n      }, \"Standard\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 19\n        }\n      }, \"Manual\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }\n      }, \"Status\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        value: formData.status,\n        onChange: e => this.handleChange('status', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 19\n        }\n      }, \"Entered\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }\n      }, \"On Process\"), /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 19\n        }\n      }, \"Closed\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }\n      }, \"Customer\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        onChange: e => this.handleChange('customer', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, \"Ref No\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control\",\n        onChange: e => this.handleChange('refNo', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }\n      }, \"Line Items\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-sm btn-primary\",\n        onClick: this.toggleProductOverlay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 15\n        }\n      }, \"+ Add Items\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"table-responsive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }\n      }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 21\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, \"UOM\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, \"Qty\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }\n      }, \"Unit Price\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }\n      }, \"Tax%\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }\n      }, \"Amount\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 17\n        }\n      }, formData.lineItems.map((item, i) => /*#__PURE__*/React.createElement(\"tr\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 23\n        }\n      }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 23\n        }\n      }, item.productName), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 23\n        }\n      }, item.uom), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 23\n        }\n      }, \"1\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 23\n        }\n      }, item.price || 0), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 23\n        }\n      }, item.tax || 0), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 23\n        }\n      }, (item.price || 0) + (item.tax || 0) * (item.price || 0) / 100)))))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 15\n        }\n      }, \"Save\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary\",\n        onClick: () => this.setState({\n          formVisible: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 15\n        }\n      }, \"Cancel\"))), showProductOverlay && /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          position: 'fixed',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          backgroundColor: 'rgba(0,0,0,0.6)',\n          zIndex: 9999,\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          background: '#fff',\n          padding: 20,\n          borderRadius: 8,\n          width: '90%',\n          maxWidth: 600,\n          maxHeight: '80%',\n          overflowY: 'auto'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }, \"Select Products\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"list-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }\n      }, products.map((p, i) => /*#__PURE__*/React.createElement(\"li\", {\n        key: i,\n        className: \"list-group-item\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"checkbox\",\n        className: \"mr-2\",\n        checked: selectedProducts.some(sp => sp.id === p.id),\n        onChange: () => this.toggleProductSelection(p),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 23\n        }\n      }), p.productName, \" (\", p.uom, \")\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"text-right mt-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary mr-2\",\n        onClick: this.confirmProductSelection,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 19\n        }\n      }, \"Add\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-secondary\",\n        onClick: this.toggleProductOverlay,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 19\n        }\n      }, \"Cancel\"))))));\n    };\n\n    this.renderTable = () => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, \"Quotes\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.setState({\n        formVisible: true\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, \"+ Create Quote\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 17\n      }\n    }, \"Quote No\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }, \"Customer\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 17\n      }\n    }, \"Date\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 17\n      }\n    }, \"Status\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }, this.state.quotes.map((q, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: i,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 19\n      }\n    }, q.quoteNo), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 19\n      }\n    }, q.customer), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }, q.quoteDate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 19\n      }\n    }, q.status))))))));\n  }\n\n  componentDidMount() {\n    this.fetchQuotes();\n    this.fetchProducts();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 7\n      }\n    }, this.state.formVisible ? this.renderForm() : this.renderTable());\n  }\n\n}\n\nexport default QuoteForm;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/panelone/Quote.js"],"names":["React","Component","db","Dropdown","collection","getDocs","addDoc","deleteDoc","doc","QuoteForm","state","quotes","formVisible","formData","quoteNo","customer","quoteDate","quoteType","status","refNo","lineItems","products","selectedProducts","showProductOverlay","fetchQuotes","snap","docs","map","id","data","setState","fetchProducts","handleChange","field","value","prev","handleSubmit","e","preventDefault","toggleProductOverlay","toggleProductSelection","product","exists","some","p","updated","filter","confirmProductSelection","renderForm","target","item","i","productName","uom","price","tax","position","top","left","right","bottom","backgroundColor","zIndex","display","alignItems","justifyContent","background","padding","borderRadius","width","maxWidth","maxHeight","overflowY","sp","renderTable","q","componentDidMount","render"],"mappings":"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","sourcesContent":["// Quote.js (Full Version with ProductMaster-based Line Items)\r\nimport React, { Component } from 'react';\r\nimport { db } from '../../firebase';\r\nimport { Dropdown } from 'react-bootstrap';\r\nimport { collection, getDocs, addDoc, deleteDoc, doc } from 'firebase/firestore';\r\n\r\nclass QuoteForm extends Component {\r\n  state = {\r\n    quotes: [],\r\n    formVisible: false,\r\n    formData: {\r\n      quoteNo: '',\r\n      customer: '',\r\n      quoteDate: '',\r\n      quoteType: 'Standard',\r\n      status: 'Entered',\r\n      refNo: '',\r\n      lineItems: []\r\n    },\r\n    products: [],\r\n    selectedProducts: [],\r\n    showProductOverlay: false\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchQuotes();\r\n    this.fetchProducts();\r\n  }\r\n\r\n  fetchQuotes = async () => {\r\n    const snap = await getDocs(collection(db, 'quotes'));\r\n    const quotes = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    this.setState({ quotes });\r\n  };\r\n\r\n  fetchProducts = async () => {\r\n    const snap = await getDocs(collection(db, 'products'));\r\n    const products = snap.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n    this.setState({ products });\r\n  };\r\n\r\n  handleChange = (field, value) => {\r\n    this.setState(prev => ({ formData: { ...prev.formData, [field]: value } }));\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    await addDoc(collection(db, 'quotes'), this.state.formData);\r\n    this.setState({ formVisible: false });\r\n    this.fetchQuotes();\r\n  };\r\n\r\n  toggleProductOverlay = () => {\r\n    this.setState(prev => ({ showProductOverlay: !prev.showProductOverlay }));\r\n  };\r\n\r\n  toggleProductSelection = (product) => {\r\n    const { selectedProducts } = this.state;\r\n    const exists = selectedProducts.some(p => p.id === product.id);\r\n    const updated = exists\r\n      ? selectedProducts.filter(p => p.id !== product.id)\r\n      : [...selectedProducts, product];\r\n    this.setState({ selectedProducts: updated });\r\n  };\r\n\r\n  confirmProductSelection = () => {\r\n    this.setState(prev => ({\r\n      formData: {\r\n        ...prev.formData,\r\n        lineItems: [...prev.formData.lineItems, ...prev.selectedProducts]\r\n      },\r\n      selectedProducts: [],\r\n      showProductOverlay: false\r\n    }));\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { formData, products, selectedProducts, showProductOverlay } = this.state;\r\n    return (\r\n      <div className=\"card mt-4\">\r\n        <div className=\"card-body\">\r\n          <h4 className=\"card-title\">Quote Form</h4>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Quote No</label>\r\n                <input className=\"form-control\" onChange={(e) => this.handleChange('quoteNo', e.target.value)} />\r\n              </div>\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Quote Date</label>\r\n                <input type=\"date\" className=\"form-control\" onChange={(e) => this.handleChange('quoteDate', e.target.value)} />\r\n              </div>\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Quote Type</label>\r\n                <select className=\"form-control\" value={formData.quoteType} onChange={(e) => this.handleChange('quoteType', e.target.value)}>\r\n                  <option>Standard</option>\r\n                  <option>Manual</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Status</label>\r\n                <select className=\"form-control\" value={formData.status} onChange={(e) => this.handleChange('status', e.target.value)}>\r\n                  <option>Entered</option>\r\n                  <option>On Process</option>\r\n                  <option>Closed</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Customer</label>\r\n                <input className=\"form-control\" onChange={(e) => this.handleChange('customer', e.target.value)} />\r\n              </div>\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Ref No</label>\r\n                <input className=\"form-control\" onChange={(e) => this.handleChange('refNo', e.target.value)} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"d-flex justify-content-between align-items-center\">\r\n              <h4 className=\"card-title\">Line Items</h4>\r\n              <button type=\"button\" className=\"btn btn-sm btn-primary\" onClick={this.toggleProductOverlay}>+ Add Items</button>\r\n            </div>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-bordered\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>ID</th>\r\n                    <th>Name</th>\r\n                    <th>UOM</th>\r\n                    <th>Qty</th>\r\n                    <th>Unit Price</th>\r\n                    <th>Tax%</th>\r\n                    <th>Amount</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {formData.lineItems.map((item, i) => (\r\n                    <tr key={i}>\r\n                      <td>{i + 1}</td>\r\n                      <td>{item.productName}</td>\r\n                      <td>{item.uom}</td>\r\n                      <td>1</td>\r\n                      <td>{item.price || 0}</td>\r\n                      <td>{item.tax || 0}</td>\r\n                      <td>{(item.price || 0) + ((item.tax || 0) * (item.price || 0) / 100)}</td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            <div className=\"d-flex justify-content-between mt-3\">\r\n              <button type=\"submit\" className=\"btn btn-success\">Save</button>\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={() => this.setState({ formVisible: false })}>Cancel</button>\r\n            </div>\r\n          </form>\r\n\r\n          {showProductOverlay && (\r\n            <div style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0, backgroundColor: 'rgba(0,0,0,0.6)', zIndex: 9999, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n              <div style={{ background: '#fff', padding: 20, borderRadius: 8, width: '90%', maxWidth: 600, maxHeight: '80%', overflowY: 'auto' }}>\r\n                <h5>Select Products</h5>\r\n                <ul className=\"list-group\">\r\n                  {products.map((p, i) => (\r\n                    <li key={i} className=\"list-group-item\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        className=\"mr-2\"\r\n                        checked={selectedProducts.some(sp => sp.id === p.id)}\r\n                        onChange={() => this.toggleProductSelection(p)}\r\n                      />\r\n                      {p.productName} ({p.uom})\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n                <div className=\"text-right mt-3\">\r\n                  <button className=\"btn btn-primary mr-2\" onClick={this.confirmProductSelection}>Add</button>\r\n                  <button className=\"btn btn-secondary\" onClick={this.toggleProductOverlay}>Cancel</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderTable = () => (\r\n    <div className=\"card mt-4\">\r\n      <div className=\"card-body\">\r\n        <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n          <h4 className=\"card-title\">Quotes</h4>\r\n          <button className=\"btn btn-primary\" onClick={() => this.setState({ formVisible: true })}>+ Create Quote</button>\r\n        </div>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>Quote No</th>\r\n                <th>Customer</th>\r\n                <th>Date</th>\r\n                <th>Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {this.state.quotes.map((q, i) => (\r\n                <tr key={i}>\r\n                  <td>{q.quoteNo}</td>\r\n                  <td>{q.customer}</td>\r\n                  <td>{q.quoteDate}</td>\r\n                  <td>{q.status}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        {this.state.formVisible ? this.renderForm() : this.renderTable()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default QuoteForm;\r\n"]},"metadata":{},"sourceType":"module"}