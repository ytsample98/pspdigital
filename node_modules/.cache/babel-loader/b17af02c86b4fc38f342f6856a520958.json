{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\forms\\\\parties.js\";\nimport React, { Component } from 'react';\nimport { Form } from 'react-bootstrap';\nimport { db } from '../../firebase';\nimport { collection, addDoc, getDocs, doc, updateDoc } from 'firebase/firestore';\n\nclass CustomerForm extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      formType: 'customer',\n      formData: {\n        company: '',\n        gst: '',\n        cin: '',\n        name: '',\n        phone: '',\n        email: '',\n        website: '',\n        billing: {\n          line1: '',\n          line2: '',\n          pincode: '',\n          city: '',\n          state: ''\n        },\n        shipping: {\n          line1: '',\n          line2: '',\n          pincode: '',\n          city: '',\n          state: '',\n          sameAsBilling: false\n        }\n      },\n      editingId: null,\n      customers: [],\n      orgs: [],\n      vendors: []\n    };\n\n    this.fetchData = async () => {\n      const collections = ['customers', 'orgs', 'vendors'];\n\n      for (const type of collections) {\n        const snapshot = await getDocs(collection(db, type));\n        const data = snapshot.docs.map((doc, i) => ({\n          id: doc.id,\n          index: i + 1,\n          ...doc.data()\n        }));\n        this.setState({\n          [type]: data\n        });\n      }\n    };\n\n    this.handleChange = (field, value) => {\n      const keys = field.split('.');\n      this.setState(prev => {\n        const newFormData = { ...prev.formData\n        };\n        if (keys.length === 1) newFormData[keys[0]] = value;else newFormData[keys[0]][keys[1]] = value;\n        return {\n          formData: newFormData\n        };\n      });\n    };\n\n    this.handleSameAsBilling = () => {\n      this.setState(prev => {\n        const {\n          billing,\n          shipping\n        } = prev.formData;\n        const updatedShipping = shipping.sameAsBilling ? {\n          line1: '',\n          line2: '',\n          pincode: '',\n          city: '',\n          state: '',\n          sameAsBilling: false\n        } : { ...billing,\n          sameAsBilling: true\n        };\n        return {\n          formData: { ...prev.formData,\n            shipping: updatedShipping\n          }\n        };\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const collectionName = this.state.formType === 'customer' ? 'customers' : this.state.formType === 'organisation' ? 'orgs' : 'vendors';\n\n      try {\n        if (this.state.editingId) {\n          await updateDoc(doc(db, collectionName, this.state.editingId), this.state.formData);\n        } else {\n          await addDoc(collection(db, collectionName), this.state.formData);\n        }\n\n        this.setState({\n          editingId: null\n        });\n        this.fetchData();\n      } catch (error) {\n        console.error('Error saving data:', error);\n      }\n    };\n\n    this.handleEdit = (type, entry) => {\n      this.setState({\n        formType: type,\n        formData: { ...entry\n        },\n        editingId: entry.id\n      });\n    };\n\n    this.renderTable = (data, type) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }\n    }, type.charAt(0).toUpperCase() + type.slice(1), \" List\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, \"ID\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, \"Company\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 17\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }\n    }, data.map((item, index) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: item.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, type[0], index + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 19\n      }\n    }, item.company), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 19\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 19\n      }\n    }, item.phone), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-primary\",\n      onClick: () => this.handleEdit(type === 'customers' ? 'customer' : type === 'orgs' ? 'organisation' : 'vendor', item),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }\n    }, \"Edit\")))))))));\n  }\n\n  componentDidMount() {\n    this.fetchData();\n  }\n\n  renderInput(label, field, type = 'text', required = false, disabled = false) {\n    const value = field.includes('.') ? this.state.formData[field.split('.')[0]][field.split('.')[1]] : this.state.formData[field];\n    return /*#__PURE__*/React.createElement(Form.Group, {\n      className: \"form-group mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, label), /*#__PURE__*/React.createElement(Form.Control, {\n      type: type,\n      className: \"form-control\",\n      value: value,\n      placeholder: `${label}${required ? '*' : ''}`,\n      onChange: e => this.handleChange(field, e.target.value),\n      disabled: disabled,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }));\n  }\n\n  render() {\n    const {\n      sameAsBilling\n    } = this.state.formData.shipping;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 11\n      }\n    }, \"Party Form\"), /*#__PURE__*/React.createElement(\"form\", {\n      className: \"form-sample\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-lg-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"col-sm-2 col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 13\n      }\n    }, \"Entity Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-10 d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 13\n      }\n    }, ['customer', 'organisation', 'vendor'].map(type => /*#__PURE__*/React.createElement(\"div\", {\n      key: type,\n      className: \"form-check form-check-inline mr-3 mb-0\",\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        alignContent: 'flex-end'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"radio\",\n      name: \"entityType\",\n      value: type,\n      checked: this.state.formType === type,\n      onChange: () => this.setState({\n        formType: type\n      }),\n      id: `entityType-${type}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-check-label text-capitalize ml-2\",\n      htmlFor: `entityType-${type}`,\n      style: {\n        marginBottom: 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, type)))))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-description mt-3 mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, \"Organisation Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 15\n      }\n    }, this.renderInput('Company Name', 'company', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, this.renderInput('GST IN', 'gst', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 15\n      }\n    }, this.renderInput('CIN', 'cin', 'text', true))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-description mt-3 mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 13\n      }\n    }, \"Contact Details\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 15\n      }\n    }, this.renderInput('Name', 'name', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 15\n      }\n    }, this.renderInput('Phone Number', 'phone', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 15\n      }\n    }, this.renderInput('Email', 'email', 'email', true))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 15\n      }\n    }, this.renderInput('Website', 'website', 'url'))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-description mt-3 mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }, \"Billing Address\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 15\n      }\n    }, this.renderInput('Address Line 1', 'billing.line1', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 15\n      }\n    }, this.renderInput('Address Line 2', 'billing.line2'))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 15\n      }\n    }, this.renderInput('State', 'billing.state', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 15\n      }\n    }, this.renderInput('City', 'billing.city', 'text', true)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }, this.renderInput('Pin', 'billing.pincode', 'text', true))), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"card-description mt-3 mb-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, \"Shipping Address\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row align-items-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4 mb-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-check\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-check-input\",\n      type: \"checkbox\",\n      checked: sameAsBilling,\n      onChange: this.handleSameAsBilling,\n      id: \"sameAsBilling\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"form-check-label\",\n      htmlFor: \"sameAsBilling\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 19\n      }\n    }, \"Same as Billing\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, this.renderInput('Address Line 1', 'shipping.line1', 'text', false, sameAsBilling)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 15\n      }\n    }, this.renderInput('Address Line 2', 'shipping.line2', 'text', false, sameAsBilling))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, this.renderInput('State', 'shipping.state', 'text', false, sameAsBilling)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 15\n      }\n    }, this.renderInput('City', 'shipping.city', 'text', false, sameAsBilling)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-md-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 15\n      }\n    }, this.renderInput('Pincode', 'shipping.pincode', 'text', false, sameAsBilling))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 15\n      }\n    }, \"Save\")))));\n  }\n\n}\n\nexport default CustomerForm;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/forms/parties.js"],"names":["React","Component","Form","db","collection","addDoc","getDocs","doc","updateDoc","CustomerForm","state","formType","formData","company","gst","cin","name","phone","email","website","billing","line1","line2","pincode","city","shipping","sameAsBilling","editingId","customers","orgs","vendors","fetchData","collections","type","snapshot","data","docs","map","i","id","index","setState","handleChange","field","value","keys","split","prev","newFormData","length","handleSameAsBilling","updatedShipping","handleSubmit","e","preventDefault","collectionName","error","console","handleEdit","entry","renderTable","charAt","toUpperCase","slice","item","componentDidMount","renderInput","label","required","disabled","includes","target","render","display","alignItems","alignContent","marginBottom"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form } from 'react-bootstrap';\r\nimport { db } from '../../firebase';\r\nimport { collection, addDoc, getDocs, doc, updateDoc } from 'firebase/firestore';\r\n\r\nclass CustomerForm extends Component {\r\n  state = {\r\n    formType: 'customer',\r\n    formData: {\r\n      company: '', gst: '', cin: '', name: '', phone: '', email: '', website: '',\r\n      billing: { line1: '', line2: '', pincode: '', city: '', state: '' },\r\n      shipping: { line1: '', line2: '', pincode: '', city: '', state: '', sameAsBilling: false }\r\n    },\r\n    editingId: null,\r\n    customers: [],\r\n    orgs: [],\r\n    vendors: []\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const collections = ['customers', 'orgs', 'vendors'];\r\n    for (const type of collections) {\r\n      const snapshot = await getDocs(collection(db, type));\r\n      const data = snapshot.docs.map((doc, i) => ({ id: doc.id, index: i + 1, ...doc.data() }));\r\n      this.setState({ [type]: data });\r\n    }\r\n  };\r\n\r\n  handleChange = (field, value) => {\r\n    const keys = field.split('.');\r\n    this.setState(prev => {\r\n      const newFormData = { ...prev.formData };\r\n      if (keys.length === 1) newFormData[keys[0]] = value;\r\n      else newFormData[keys[0]][keys[1]] = value;\r\n      return { formData: newFormData };\r\n    });\r\n  };\r\n\r\n  handleSameAsBilling = () => {\r\n    this.setState(prev => {\r\n      const { billing, shipping } = prev.formData;\r\n      const updatedShipping = shipping.sameAsBilling\r\n        ? { line1: '', line2: '', pincode: '', city: '', state: '', sameAsBilling: false }\r\n        : { ...billing, sameAsBilling: true };\r\n      return {\r\n        formData: { ...prev.formData, shipping: updatedShipping }\r\n      };\r\n    });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const collectionName = this.state.formType === 'customer' ? 'customers' : this.state.formType === 'organisation' ? 'orgs' : 'vendors';\r\n    try {\r\n      if (this.state.editingId) {\r\n        await updateDoc(doc(db, collectionName, this.state.editingId), this.state.formData);\r\n      } else {\r\n        await addDoc(collection(db, collectionName), this.state.formData);\r\n      }\r\n      this.setState({ editingId: null });\r\n      this.fetchData();\r\n    } catch (error) {\r\n      console.error('Error saving data:', error);\r\n    }\r\n  };\r\n\r\n  handleEdit = (type, entry) => {\r\n    this.setState({\r\n      formType: type,\r\n      formData: { ...entry },\r\n      editingId: entry.id\r\n    });\r\n  };\r\n\r\n  renderInput(label, field, type = 'text', required = false, disabled = false) {\r\n    const value = field.includes('.')\r\n      ? this.state.formData[field.split('.')[0]][field.split('.')[1]]\r\n      : this.state.formData[field];\r\n    return (\r\n      <Form.Group className=\"form-group mb-1\">\r\n        <label>{label}</label>\r\n        <Form.Control\r\n          type={type}\r\n          className=\"form-control\"\r\n          value={value}\r\n          placeholder={`${label}${required ? '*' : ''}`}\r\n          onChange={(e) => this.handleChange(field, e.target.value)}\r\n          disabled={disabled}\r\n        />\r\n      </Form.Group>\r\n    );\r\n  }\r\n\r\n  renderTable = (data, type) => (\r\n    <div className=\"card mt-4\">\r\n      <div className=\"card-body\">\r\n        <h4 className=\"card-title\">{type.charAt(0).toUpperCase() + type.slice(1)} List</h4>\r\n        <div className=\"table-responsive\">\r\n          <table className=\"table table-bordered\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Company</th>\r\n                <th>Name</th>\r\n                <th>Phone</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {data.map((item, index) => (\r\n                <tr key={item.id}>\r\n                  <td>{type[0]}{index + 1}</td>\r\n                  <td>{item.company}</td>\r\n                  <td>{item.name}</td>\r\n                  <td>{item.phone}</td>\r\n                  <td>\r\n                    <button className=\"btn btn-sm btn-primary\" onClick={() => this.handleEdit(type === 'customers' ? 'customer' : type === 'orgs' ? 'organisation' : 'vendor', item)}>Edit</button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  render() {\r\n    const { sameAsBilling } = this.state.formData.shipping;\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"card-body\">\r\n          <h4 className=\"card-title\">Party Form</h4>\r\n          <form className=\"form-sample\" onSubmit={this.handleSubmit}>\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group col-lg-4\">\r\n            <label className=\"col-sm-2 col-form-label\">Entity Type</label>\r\n            <div className=\"col-sm-10 d-flex\">\r\n                {['customer', 'organisation', 'vendor'].map(type => (\r\n                  <div key={type} className=\"form-check form-check-inline mr-3 mb-0\" style={{ display: 'flex', alignItems: 'center', alignContent:'flex-end' }}>\r\n                    <input\r\n                      className=\"form-check-input\"\r\n                      type=\"radio\"\r\n                      name=\"entityType\"\r\n                      value={type}\r\n                      checked={this.state.formType === type}\r\n                      onChange={() => this.setState({ formType: type })}\r\n                      id={`entityType-${type}`}\r\n                    />\r\n                    <label className=\"form-check-label text-capitalize ml-2\" htmlFor={`entityType-${type}`} style={{ marginBottom: 0 }}>{type}</label>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n            <p className=\"card-description mt-3 mb-1\">Organisation Details</p>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">{this.renderInput('Company Name', 'company', 'text', true)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('GST IN', 'gst', 'text', true)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('CIN', 'cin', 'text', true)}</div>\r\n            </div>\r\n\r\n            <p className=\"card-description mt-3 mb-1\">Contact Details</p>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">{this.renderInput('Name', 'name', 'text', true)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('Phone Number', 'phone', 'text', true)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('Email', 'email', 'email', true)}</div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">{this.renderInput('Website', 'website', 'url')}</div>\r\n            </div>\r\n\r\n            <p className=\"card-description mt-3 mb-1\">Billing Address</p>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">{this.renderInput('Address Line 1', 'billing.line1', 'text', true)}</div>\r\n              <div className=\"form-group col-md-6\">{this.renderInput('Address Line 2', 'billing.line2')}</div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">{this.renderInput('State', 'billing.state', 'text', true)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('City', 'billing.city', 'text', true)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('Pin', 'billing.pincode', 'text', true)}</div>\r\n            </div>\r\n\r\n            <p className=\"card-description mt-3 mb-1\">Shipping Address</p>\r\n            <div className=\"form-row align-items-center\">\r\n              <div className=\"form-group col-md-4 mb-2\">\r\n                <div className=\"form-check\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    type=\"checkbox\"\r\n                    checked={sameAsBilling}\r\n                    onChange={this.handleSameAsBilling}\r\n                    id=\"sameAsBilling\"\r\n                  />\r\n                  <label className=\"form-check-label\" htmlFor=\"sameAsBilling\">Same as Billing</label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">{this.renderInput('Address Line 1', 'shipping.line1', 'text', false, sameAsBilling)}</div>\r\n              <div className=\"form-group col-md-6\">{this.renderInput('Address Line 2', 'shipping.line2', 'text', false, sameAsBilling)}</div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-4\">{this.renderInput('State', 'shipping.state', 'text', false, sameAsBilling)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('City', 'shipping.city', 'text', false, sameAsBilling)}</div>\r\n              <div className=\"form-group col-md-4\">{this.renderInput('Pincode', 'shipping.pincode', 'text', false, sameAsBilling)}</div>\r\n            </div>\r\n\r\n            <div className=\"text-right mt-4\">\r\n              <button type=\"submit\" className=\"btn btn-success\">Save</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CustomerForm;"]},"metadata":{},"sourceType":"module"}