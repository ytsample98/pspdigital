{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\inventory\\\\invmaster\\\\CurrencyPage.js\";\nimport React, { Component } from 'react';\nimport { db } from '../../../firebase';\nimport { collection, addDoc, getDocs, updateDoc, deleteDoc, doc } from 'firebase/firestore';\n\nclass CurrencyPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      currencies: [],\n      formData: {\n        name: '',\n        code: '',\n        shortName: '',\n        conversionRate: ''\n      },\n      editingId: null,\n      loading: false,\n      searchTerm: ''\n    };\n\n    this.componentDidMount = async () => {\n      this.fetchCurrencies();\n    };\n\n    this.fetchCurrencies = async () => {\n      const snap = await getDocs(collection(db, 'currencies'));\n      const currencies = snap.docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }));\n      this.setState({\n        currencies\n      });\n    };\n\n    this.handleChange = e => {\n      const {\n        name,\n        value\n      } = e.target;\n      this.setState({\n        formData: { ...this.state.formData,\n          [name]: value\n        }\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        name,\n        code,\n        shortName,\n        conversionRate\n      } = this.state.formData;\n      if (!name || !code || !conversionRate) return alert('Fill all fields');\n      this.setState({\n        loading: true\n      });\n\n      if (this.state.editingId) {\n        await updateDoc(doc(db, 'currencies', this.state.editingId), {\n          name,\n          code,\n          shortName,\n          conversionRate: parseFloat(conversionRate),\n          base: 'INR'\n        });\n        alert('Updated!');\n      } else {\n        await addDoc(collection(db, 'currencies'), {\n          name,\n          code,\n          shortName,\n          conversionRate: parseFloat(conversionRate),\n          base: 'INR'\n        });\n        alert('Added!');\n      }\n\n      this.setState({\n        formData: {\n          name: '',\n          code: '',\n          shortName: '',\n          conversionRate: ''\n        },\n        editingId: null,\n        loading: false\n      });\n      this.fetchCurrencies();\n    };\n\n    this.handleEdit = cur => {\n      this.setState({\n        formData: {\n          name: cur.name,\n          code: cur.code,\n          shortName: cur.shortName || '',\n          conversionRate: cur.conversionRate\n        },\n        editingId: cur.id\n      });\n    };\n\n    this.handleDelete = async id => {\n      if (window.confirm('Delete this currency?')) {\n        await deleteDoc(doc(db, 'currencies', id));\n        this.fetchCurrencies();\n      }\n    };\n  }\n\n  render() {\n    const {\n      currencies,\n      formData,\n      loading,\n      searchTerm\n    } = this.state;\n    const filteredCurrencies = currencies.filter(c => (c.name || '').toLowerCase().includes(searchTerm.toLowerCase()) || (c.code || '').toLowerCase().includes(searchTerm.toLowerCase()) || (c.shortName || '').toLowerCase().includes(searchTerm.toLowerCase()));\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid mt-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card full-height\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"d-flex justify-content-between align-items-center mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"card-title mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 15\n      }\n    }, \"Currency Master (Base: INR)\")), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      className: \"mb-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row g-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"name\",\n      placeholder: \"Currency Name\",\n      value: formData.name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"code\",\n      placeholder: \"Code (USD)\",\n      value: formData.code,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      name: \"shortName\",\n      placeholder: \"Short Name\",\n      value: formData.shortName,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"number\",\n      step: \"0.0001\",\n      className: \"form-control\",\n      name: \"conversionRate\",\n      placeholder: \"Rate vs INR\",\n      value: formData.conversionRate,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary w-100\",\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }, this.state.editingId ? 'Update' : 'Add')), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      className: \"form-control\",\n      placeholder: \"Search...\",\n      value: searchTerm,\n      onChange: e => this.setState({\n        searchTerm: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 19\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"table-responsive\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-sm table-bordered table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      className: \"thead-light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 21\n      }\n    }, \"#\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, \"Code\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, \"Short Name\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 21\n      }\n    }, \"Rate (1 unit = ? INR)\"), /*#__PURE__*/React.createElement(\"th\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 21\n      }\n    }, \"Action\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    }, filteredCurrencies.length > 0 ? filteredCurrencies.map((c, i) => /*#__PURE__*/React.createElement(\"tr\", {\n      key: c.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }\n    }, i + 1), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 25\n      }\n    }, c.name), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, c.code), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 25\n      }\n    }, c.shortName), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 25\n      }\n    }, c.conversionRate), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-info me-2\",\n      onClick: () => this.handleEdit(c),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 27\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-danger\",\n      onClick: () => this.handleDelete(c.id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 27\n      }\n    }, \"Delete\")))) : /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      colSpan: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 25\n      }\n    }, \"No data found\"))))))));\n  }\n\n}\n\nexport default CurrencyPage;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/inventory/invmaster/CurrencyPage.js"],"names":["React","Component","db","collection","addDoc","getDocs","updateDoc","deleteDoc","doc","CurrencyPage","state","currencies","formData","name","code","shortName","conversionRate","editingId","loading","searchTerm","componentDidMount","fetchCurrencies","snap","docs","map","d","id","data","setState","handleChange","e","value","target","handleSubmit","preventDefault","alert","parseFloat","base","handleEdit","cur","handleDelete","window","confirm","render","filteredCurrencies","filter","c","toLowerCase","includes","length","i"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { db } from '../../../firebase';\r\nimport { collection, addDoc, getDocs, updateDoc, deleteDoc, doc } from 'firebase/firestore';\r\n\r\nclass CurrencyPage extends Component {\r\n  state = {\r\n    currencies: [],\r\n    formData: { name: '', code: '', shortName: '', conversionRate: '' },\r\n    editingId: null,\r\n    loading: false,\r\n    searchTerm: '',\r\n  };\r\n\r\n  componentDidMount = async () => {\r\n    this.fetchCurrencies();\r\n  };\r\n\r\n  fetchCurrencies = async () => {\r\n    const snap = await getDocs(collection(db, 'currencies'));\r\n    const currencies = snap.docs.map(d => ({ id: d.id, ...d.data() }));\r\n    this.setState({ currencies });\r\n  };\r\n\r\n  handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    this.setState({ formData: { ...this.state.formData, [name]: value } });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { name, code, shortName, conversionRate } = this.state.formData;\r\n    if (!name || !code || !conversionRate) return alert('Fill all fields');\r\n    this.setState({ loading: true });\r\n\r\n    if (this.state.editingId) {\r\n      await updateDoc(doc(db, 'currencies', this.state.editingId), {\r\n        name, code, shortName, conversionRate: parseFloat(conversionRate), base: 'INR'\r\n      });\r\n      alert('Updated!');\r\n    } else {\r\n      await addDoc(collection(db, 'currencies'), {\r\n        name, code, shortName, conversionRate: parseFloat(conversionRate), base: 'INR'\r\n      });\r\n      alert('Added!');\r\n    }\r\n\r\n    this.setState({ formData: { name: '', code: '', shortName: '', conversionRate: '' }, editingId: null, loading: false });\r\n    this.fetchCurrencies();\r\n  };\r\n\r\n  handleEdit = (cur) => {\r\n    this.setState({ formData: { name: cur.name, code: cur.code, shortName: cur.shortName || '', conversionRate: cur.conversionRate }, editingId: cur.id });\r\n  };\r\n\r\n  handleDelete = async (id) => {\r\n    if (window.confirm('Delete this currency?')) {\r\n      await deleteDoc(doc(db, 'currencies', id));\r\n      this.fetchCurrencies();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { currencies, formData, loading, searchTerm } = this.state;\r\n    const filteredCurrencies = currencies.filter(c =>\r\n      (c.name || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (c.code || '').toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (c.shortName || '').toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n      <div className=\"container-fluid mt-3\">\r\n        <div className=\"card full-height\">\r\n          <div className=\"card-body\">\r\n            <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n              <h4 className=\"card-title mb-0\">Currency Master (Base: INR)</h4>\r\n            </div>\r\n\r\n            <form onSubmit={this.handleSubmit} className=\"mb-3\">\r\n              <div className=\"row g-2\">\r\n                <div className=\"col-md-3\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"name\"\r\n                    placeholder=\"Currency Name\"\r\n                    value={formData.name}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"code\"\r\n                    placeholder=\"Code (USD)\"\r\n                    value={formData.code}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    name=\"shortName\"\r\n                    placeholder=\"Short Name\"\r\n                    value={formData.shortName}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <input\r\n                    type=\"number\"\r\n                    step=\"0.0001\"\r\n                    className=\"form-control\"\r\n                    name=\"conversionRate\"\r\n                    placeholder=\"Rate vs INR\"\r\n                    value={formData.conversionRate}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </div>\r\n                <div className=\"col-md-2\">\r\n                  <button className=\"btn btn-primary w-100\" disabled={loading}>\r\n                    {this.state.editingId ? 'Update' : 'Add'}\r\n                  </button>\r\n                </div>\r\n                <div className=\"col-md-1\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control\"\r\n                    placeholder=\"Search...\"\r\n                    value={searchTerm}\r\n                    onChange={e => this.setState({ searchTerm: e.target.value })}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </form>\r\n\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table table-sm table-bordered table-hover\">\r\n                <thead className=\"thead-light\">\r\n                  <tr>\r\n                    <th>#</th>\r\n                    <th>Name</th>\r\n                    <th>Code</th>\r\n                    <th>Short Name</th>\r\n                    <th>Rate (1 unit = ? INR)</th>\r\n                    <th>Action</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredCurrencies.length > 0 ? (\r\n                    filteredCurrencies.map((c, i) => (\r\n                      <tr key={c.id}>\r\n                        <td>{i + 1}</td>\r\n                        <td>{c.name}</td>\r\n                        <td>{c.code}</td>\r\n                        <td>{c.shortName}</td>\r\n                        <td>{c.conversionRate}</td>\r\n                        <td>\r\n                          <button\r\n                            className=\"btn btn-sm btn-info me-2\"\r\n                            onClick={() => this.handleEdit(c)}\r\n                          >Edit</button>\r\n                          <button\r\n                            className=\"btn btn-sm btn-danger\"\r\n                            onClick={() => this.handleDelete(c.id)}\r\n                          >Delete</button>\r\n                        </td>\r\n                      </tr>\r\n                    ))\r\n                  ) : (\r\n                    <tr><td colSpan=\"6\">No data found</td></tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CurrencyPage;"]},"metadata":{},"sourceType":"module"}