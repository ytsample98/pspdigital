{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\administrator\\\\UserCreation.js\";\n// src/app/administrator/UserCreation.js\nimport React, { Component } from 'react';\nimport { db } from '../../firebase';\nimport { collection, getDocs, addDoc, setDoc, doc, deleteDoc } from 'firebase/firestore';\nimport '../../assets/styles/components/custom-table.scss';\n/*\r\n  UserCreation component\r\n  - Simple create/edit/delete user UI (form + table)\r\n  - Responsibilities and rights are plain text fields (per request)\r\n  - Stores users in Firestore collection: \"users\"\r\n  - Behavior:\r\n    - Shows table of users by default\r\n    - \"+ Create User\" opens the form (replaces table view)\r\n    - Edit loads data into the form\r\n    - Save creates/updates document in Firestore\r\n    - Delete removes document from Firestore after confirmation\r\n*/\n\nclass UserCreation extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      users: [],\n      showForm: false,\n      editingId: null,\n      // form data: responsibilities & rights are simple text fields (CSV or description)\n      formData: {\n        usercode: '',\n        // auto assigned when creating new\n        username: '',\n        usermail: '',\n        userresp: '',\n        // simple text field\n        userrights: '',\n        // simple text field\n        password: '',\n        showPassword: false,\n        // optional dashboard checkboxes (still stored in the document)\n        dashboardPurchase: false,\n        dashboardInventory: false,\n        dashboardSales: false,\n        lockUser: false\n      },\n      loading: false\n    };\n\n    this.fetchUsers = async () => {\n      this.setState({\n        loading: true\n      });\n\n      try {\n        const snap = await getDocs(collection(db, 'users'));\n        const data = snap.docs.map(d => ({\n          id: d.id,\n          ...d.data()\n        })); // sort by usercode if available\n\n        data.sort((a, b) => a.usercode > b.usercode ? 1 : -1);\n        this.setState({\n          users: data,\n          loading: false\n        });\n      } catch (err) {\n        console.error('fetchUsers error', err);\n        this.setState({\n          loading: false\n        });\n      }\n    };\n\n    this.makeNewUserCode = () => {\n      // simple auto code: U + timestamp (change to any sequence generator you prefer)\n      return `U${Date.now().toString().slice(-7)}`;\n    };\n\n    this.openCreateForm = () => {\n      this.setState({\n        showForm: true,\n        editingId: null,\n        formData: {\n          usercode: this.makeNewUserCode(),\n          username: '',\n          usermail: '',\n          userresp: '',\n          userrights: '',\n          password: '',\n          showPassword: false,\n          dashboardPurchase: false,\n          dashboardInventory: false,\n          dashboardSales: false,\n          lockUser: false\n        }\n      });\n    };\n\n    this.openEditForm = user => {\n      this.setState({\n        showForm: true,\n        editingId: user.id,\n        formData: {\n          usercode: user.usercode || this.makeNewUserCode(),\n          username: user.username || '',\n          usermail: user.usermail || '',\n          userresp: user.userresp || '',\n          userrights: user.userrights || '',\n          password: user.password || '',\n          showPassword: false,\n          dashboardPurchase: !!user.dashboardPurchase,\n          dashboardInventory: !!user.dashboardInventory,\n          dashboardSales: !!user.dashboardSales,\n          lockUser: !!user.lockUser\n        }\n      });\n    };\n\n    this.cancelForm = () => {\n      this.setState({\n        showForm: false,\n        editingId: null\n      });\n    };\n\n    this.handleChange = (field, value) => {\n      this.setState(prev => ({\n        formData: { ...prev.formData,\n          [field]: value\n        }\n      }));\n    };\n\n    this.handleSubmit = async e => {\n      e && e.preventDefault();\n      const {\n        editingId,\n        formData\n      } = this.state; // basic validation\n\n      if (!formData.username || !formData.usermail) {\n        alert('Please provide Username and E-Mail.');\n        return;\n      }\n\n      const saveObj = {\n        usercode: formData.usercode,\n        username: formData.username,\n        usermail: formData.usermail,\n        userresp: formData.userresp,\n        // free text\n        userrights: formData.userrights,\n        // free text\n        password: formData.password,\n        // NOTE: in production DO NOT store plaintext passwords\n        dashboardPurchase: !!formData.dashboardPurchase,\n        dashboardInventory: !!formData.dashboardInventory,\n        dashboardSales: !!formData.dashboardSales,\n        lockUser: !!formData.lockUser,\n        updatedAt: new Date().toISOString()\n      };\n\n      try {\n        if (editingId) {\n          await setDoc(doc(db, 'users', editingId), saveObj, {\n            merge: true\n          });\n        } else {\n          // create\n          const ref = await addDoc(collection(db, 'users'), saveObj);\n          saveObj.id = ref.id;\n        }\n\n        await this.fetchUsers();\n        this.setState({\n          showForm: false,\n          editingId: null\n        });\n      } catch (err) {\n        console.error('save user error', err);\n        alert('Error saving user. Check console for details.');\n      }\n    };\n\n    this.handleDelete = async user => {\n      const ok = window.confirm(`Delete user ${user.username} (${user.usercode})?`);\n      if (!ok) return;\n\n      try {\n        await deleteDoc(doc(db, 'users', user.id));\n        await this.fetchUsers();\n      } catch (err) {\n        console.error('delete user error', err);\n        alert('Error deleting user. Check console for details.');\n      }\n    };\n\n    this.renderForm = () => {\n      const {\n        formData\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card full-height\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }\n      }, \"User Creation\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-secondary btn-sm mr-2\",\n        onClick: this.cancelForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }\n      }, this.state.editingId ? 'Update' : 'Create'))), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        autoComplete: \"off\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }\n      }, \"User Code\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        value: formData.usercode,\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }\n      }, \"User Name *\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        value: formData.username,\n        onChange: e => this.handleChange('username', e.target.value),\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 17\n        }\n      }, \"E-Mail *\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"email\",\n        className: \"form-control form-control-sm\",\n        value: formData.usermail,\n        onChange: e => this.handleChange('usermail', e.target.value),\n        required: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }\n      }, \"Responsibility\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        placeholder: \"e.g. Sales Manager, Purchase Clerk or free text\",\n        value: formData.userresp,\n        onChange: e => this.handleChange('userresp', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 17\n        }\n      }, \"User Rights\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        placeholder: \"free text or comma separated rights\",\n        value: formData.userrights,\n        onChange: e => this.handleChange('userrights', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row align-items-end\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 17\n        }\n      }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: formData.showPassword ? 'text' : 'password',\n        className: \"form-control form-control-sm\",\n        value: formData.password,\n        onChange: e => this.handleChange('password', e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check mt-1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        id: \"showPwd\",\n        type: \"checkbox\",\n        checked: formData.showPassword,\n        onChange: e => this.handleChange('showPassword', e.target.checked),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"showPwd\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 19\n        }\n      }, \"Show Password\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-8\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 17\n        }\n      }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check form-check-inline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        id: \"dbPurchase\",\n        type: \"checkbox\",\n        checked: formData.dashboardPurchase,\n        onChange: e => this.handleChange('dashboardPurchase', e.target.checked),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"dbPurchase\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 19\n        }\n      }, \"Purchase\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check form-check-inline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        id: \"dbInventory\",\n        type: \"checkbox\",\n        checked: formData.dashboardInventory,\n        onChange: e => this.handleChange('dashboardInventory', e.target.checked),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"dbInventory\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 19\n        }\n      }, \"Inventory\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check form-check-inline\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        id: \"dbSales\",\n        type: \"checkbox\",\n        checked: formData.dashboardSales,\n        onChange: e => this.handleChange('dashboardSales', e.target.checked),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"dbSales\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 19\n        }\n      }, \"Sales\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-check mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-check-input\",\n        id: \"lockUser\",\n        type: \"checkbox\",\n        checked: formData.lockUser,\n        onChange: e => this.handleChange('lockUser', e.target.checked),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 19\n        }\n      }), /*#__PURE__*/React.createElement(\"label\", {\n        className: \"form-check-label\",\n        htmlFor: \"lockUser\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 19\n        }\n      }, \"Lock user\")))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          marginTop: 18,\n          borderTop: '1px solid #e9ecef',\n          paddingTop: 12\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary btn-sm mr-2\",\n        onClick: this.cancelForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success btn-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }\n      }, this.state.editingId ? 'Update' : 'Create')))));\n    };\n\n    this.renderTable = () => {\n      const {\n        users,\n        loading\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mt-3 full-height\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between align-items-center mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"card-title\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }\n      }, \"Users\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: this.openCreateForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 15\n        }\n      }, \"+ Create User\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"custom-table-responsive\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered table-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        className: \"thead-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 19\n        }\n      }, \"User Code\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 19\n        }\n      }, \"User Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 19\n        }\n      }, \"E-Mail\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 19\n        }\n      }, \"Responsibility\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 19\n        }\n      }, \"User Rights\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 19\n        }\n      }, \"Dashboard\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 19\n        }\n      }, \"Lock\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 19\n        }\n      }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 15\n        }\n      }, loading && /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"8\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 21\n        }\n      }, \"Loading...\")), !loading && users.map(u => /*#__PURE__*/React.createElement(\"tr\", {\n        key: u.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 23\n        }\n      }, u.usercode), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 23\n        }\n      }, u.username), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 23\n        }\n      }, u.usermail), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          maxWidth: 200,\n          whiteSpace: 'nowrap',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 23\n        }\n      }, u.userresp), /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          maxWidth: 200,\n          whiteSpace: 'nowrap',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 23\n        }\n      }, u.userrights), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 23\n        }\n      }, u.dashboardPurchase ? 'P' : '', u.dashboardInventory ? ' I' : '', u.dashboardSales ? ' S' : ''), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 394,\n          columnNumber: 23\n        }\n      }, u.lockUser ? 'Yes' : 'No'), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 395,\n          columnNumber: 23\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-link p-0 mr-2\",\n        onClick: () => this.openEditForm(u),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 25\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-sm btn-link text-danger p-0\",\n        onClick: () => this.handleDelete(u),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 25\n        }\n      }, \"Delete\")))), !loading && users.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"8\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 21\n        }\n      }, \"No users found\")))))));\n    };\n  }\n\n  componentDidMount() {\n    this.fetchUsers();\n  } // ---------- Firestore fetch ----------\n\n\n  render() {\n    const {\n      showForm\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 12\n      }\n    }, showForm ? this.renderForm() : this.renderTable());\n  }\n\n}\n\nexport default UserCreation;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/administrator/UserCreation.js"],"names":["React","Component","db","collection","getDocs","addDoc","setDoc","doc","deleteDoc","UserCreation","state","users","showForm","editingId","formData","usercode","username","usermail","userresp","userrights","password","showPassword","dashboardPurchase","dashboardInventory","dashboardSales","lockUser","loading","fetchUsers","setState","snap","data","docs","map","d","id","sort","a","b","err","console","error","makeNewUserCode","Date","now","toString","slice","openCreateForm","openEditForm","user","cancelForm","handleChange","field","value","prev","handleSubmit","e","preventDefault","alert","saveObj","updatedAt","toISOString","merge","ref","handleDelete","ok","window","confirm","renderForm","padding","target","checked","marginTop","borderTop","paddingTop","renderTable","u","maxWidth","whiteSpace","overflow","textOverflow","length","componentDidMount","render"],"mappings":"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","sourcesContent":["// src/app/administrator/UserCreation.js\r\nimport React, { Component } from 'react';\r\nimport { db } from '../../firebase';\r\nimport {\r\n  collection,\r\n  getDocs,\r\n  addDoc,\r\n  setDoc,\r\n  doc,\r\n  deleteDoc,\r\n} from 'firebase/firestore';\r\nimport '../../assets/styles/components/custom-table.scss';\r\n\r\n/*\r\n  UserCreation component\r\n  - Simple create/edit/delete user UI (form + table)\r\n  - Responsibilities and rights are plain text fields (per request)\r\n  - Stores users in Firestore collection: \"users\"\r\n  - Behavior:\r\n    - Shows table of users by default\r\n    - \"+ Create User\" opens the form (replaces table view)\r\n    - Edit loads data into the form\r\n    - Save creates/updates document in Firestore\r\n    - Delete removes document from Firestore after confirmation\r\n*/\r\n\r\nclass UserCreation extends Component {\r\n  state = {\r\n    users: [],\r\n    showForm: false,\r\n    editingId: null,\r\n    // form data: responsibilities & rights are simple text fields (CSV or description)\r\n    formData: {\r\n      usercode: '', // auto assigned when creating new\r\n      username: '',\r\n      usermail: '',\r\n      userresp: '', // simple text field\r\n      userrights: '', // simple text field\r\n      password: '',\r\n      showPassword: false,\r\n      // optional dashboard checkboxes (still stored in the document)\r\n      dashboardPurchase: false,\r\n      dashboardInventory: false,\r\n      dashboardSales: false,\r\n      lockUser: false,\r\n    },\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchUsers();\r\n  }\r\n\r\n  // ---------- Firestore fetch ----------\r\n  fetchUsers = async () => {\r\n    this.setState({ loading: true });\r\n    try {\r\n      const snap = await getDocs(collection(db, 'users'));\r\n      const data = snap.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n      // sort by usercode if available\r\n      data.sort((a, b) => (a.usercode > b.usercode ? 1 : -1));\r\n      this.setState({ users: data, loading: false });\r\n    } catch (err) {\r\n      console.error('fetchUsers error', err);\r\n      this.setState({ loading: false });\r\n    }\r\n  };\r\n\r\n  // ---------- Helpers ----------\r\n  makeNewUserCode = () => {\r\n    // simple auto code: U + timestamp (change to any sequence generator you prefer)\r\n    return `U${Date.now().toString().slice(-7)}`;\r\n  };\r\n\r\n  // open form for new user\r\n  openCreateForm = () => {\r\n    this.setState({\r\n      showForm: true,\r\n      editingId: null,\r\n      formData: {\r\n        usercode: this.makeNewUserCode(),\r\n        username: '',\r\n        usermail: '',\r\n        userresp: '',\r\n        userrights: '',\r\n        password: '',\r\n        showPassword: false,\r\n        dashboardPurchase: false,\r\n        dashboardInventory: false,\r\n        dashboardSales: false,\r\n        lockUser: false,\r\n      },\r\n    });\r\n  };\r\n\r\n  // open form for edit\r\n  openEditForm = (user) => {\r\n    this.setState({\r\n      showForm: true,\r\n      editingId: user.id,\r\n      formData: {\r\n        usercode: user.usercode || this.makeNewUserCode(),\r\n        username: user.username || '',\r\n        usermail: user.usermail || '',\r\n        userresp: user.userresp || '',\r\n        userrights: user.userrights || '',\r\n        password: user.password || '',\r\n        showPassword: false,\r\n        dashboardPurchase: !!user.dashboardPurchase,\r\n        dashboardInventory: !!user.dashboardInventory,\r\n        dashboardSales: !!user.dashboardSales,\r\n        lockUser: !!user.lockUser,\r\n      },\r\n    });\r\n  };\r\n\r\n  // cancel form\r\n  cancelForm = () => {\r\n    this.setState({ showForm: false, editingId: null });\r\n  };\r\n\r\n  handleChange = (field, value) => {\r\n    this.setState((prev) => ({\r\n      formData: { ...prev.formData, [field]: value },\r\n    }));\r\n  };\r\n\r\n  // submit (create or update)\r\n  handleSubmit = async (e) => {\r\n    e && e.preventDefault();\r\n    const { editingId, formData } = this.state;\r\n\r\n    // basic validation\r\n    if (!formData.username || !formData.usermail) {\r\n      alert('Please provide Username and E-Mail.');\r\n      return;\r\n    }\r\n\r\n    const saveObj = {\r\n      usercode: formData.usercode,\r\n      username: formData.username,\r\n      usermail: formData.usermail,\r\n      userresp: formData.userresp, // free text\r\n      userrights: formData.userrights, // free text\r\n      password: formData.password, // NOTE: in production DO NOT store plaintext passwords\r\n      dashboardPurchase: !!formData.dashboardPurchase,\r\n      dashboardInventory: !!formData.dashboardInventory,\r\n      dashboardSales: !!formData.dashboardSales,\r\n      lockUser: !!formData.lockUser,\r\n      updatedAt: new Date().toISOString(),\r\n    };\r\n\r\n    try {\r\n      if (editingId) {\r\n        await setDoc(doc(db, 'users', editingId), saveObj, { merge: true });\r\n      } else {\r\n        // create\r\n        const ref = await addDoc(collection(db, 'users'), saveObj);\r\n        saveObj.id = ref.id;\r\n      }\r\n      await this.fetchUsers();\r\n      this.setState({ showForm: false, editingId: null });\r\n    } catch (err) {\r\n      console.error('save user error', err);\r\n      alert('Error saving user. Check console for details.');\r\n    }\r\n  };\r\n\r\n  handleDelete = async (user) => {\r\n    const ok = window.confirm(`Delete user ${user.username} (${user.usercode})?`);\r\n    if (!ok) return;\r\n    try {\r\n      await deleteDoc(doc(db, 'users', user.id));\r\n      await this.fetchUsers();\r\n    } catch (err) {\r\n      console.error('delete user error', err);\r\n      alert('Error deleting user. Check console for details.');\r\n    }\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { formData } = this.state;\r\n    return (\r\n      <div className=\"card full-height\">\r\n        <div style={{ padding: 20 }}>\r\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <h4>User Creation</h4>\r\n            <div>\r\n              <button className=\"btn btn-secondary btn-sm mr-2\" onClick={this.cancelForm}>\r\n                Cancel\r\n              </button>\r\n              <button className=\"btn btn-primary btn-sm\" onClick={this.handleSubmit}>\r\n                {this.state.editingId ? 'Update' : 'Create'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <form onSubmit={this.handleSubmit} autoComplete=\"off\">\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-2\">\r\n                <label>User Code</label>\r\n                <input className=\"form-control form-control-sm\" value={formData.usercode} readOnly />\r\n              </div>\r\n\r\n              <div className=\"form-group col-md-4\">\r\n                <label>User Name *</label>\r\n                <input\r\n                  className=\"form-control form-control-sm\"\r\n                  value={formData.username}\r\n                  onChange={(e) => this.handleChange('username', e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group col-md-6\">\r\n                <label>E-Mail *</label>\r\n                <input\r\n                  type=\"email\"\r\n                  className=\"form-control form-control-sm\"\r\n                  value={formData.usermail}\r\n                  onChange={(e) => this.handleChange('usermail', e.target.value)}\r\n                  required\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-6\">\r\n                <label>Responsibility</label>\r\n                <input\r\n                  className=\"form-control form-control-sm\"\r\n                  placeholder=\"e.g. Sales Manager, Purchase Clerk or free text\"\r\n                  value={formData.userresp}\r\n                  onChange={(e) => this.handleChange('userresp', e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group col-md-6\">\r\n                <label>User Rights</label>\r\n                <input\r\n                  className=\"form-control form-control-sm\"\r\n                  placeholder=\"free text or comma separated rights\"\r\n                  value={formData.userrights}\r\n                  onChange={(e) => this.handleChange('userrights', e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-row align-items-end\">\r\n              <div className=\"form-group col-md-4\">\r\n                <label>Password</label>\r\n                <input\r\n                  type={formData.showPassword ? 'text' : 'password'}\r\n                  className=\"form-control form-control-sm\"\r\n                  value={formData.password}\r\n                  onChange={(e) => this.handleChange('password', e.target.value)}\r\n                />\r\n                <div className=\"form-check mt-1\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    id=\"showPwd\"\r\n                    type=\"checkbox\"\r\n                    checked={formData.showPassword}\r\n                    onChange={(e) => this.handleChange('showPassword', e.target.checked)}\r\n                  />\r\n                  <label className=\"form-check-label\" htmlFor=\"showPwd\">\r\n                    Show Password\r\n                  </label>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-group col-md-8\">\r\n                <div className=\"mb-2\">Dashboard</div>\r\n                <div className=\"form-check form-check-inline\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    id=\"dbPurchase\"\r\n                    type=\"checkbox\"\r\n                    checked={formData.dashboardPurchase}\r\n                    onChange={(e) => this.handleChange('dashboardPurchase', e.target.checked)}\r\n                  />\r\n                  <label className=\"form-check-label\" htmlFor=\"dbPurchase\">\r\n                    Purchase\r\n                  </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    id=\"dbInventory\"\r\n                    type=\"checkbox\"\r\n                    checked={formData.dashboardInventory}\r\n                    onChange={(e) => this.handleChange('dashboardInventory', e.target.checked)}\r\n                  />\r\n                  <label className=\"form-check-label\" htmlFor=\"dbInventory\">\r\n                    Inventory\r\n                  </label>\r\n                </div>\r\n                <div className=\"form-check form-check-inline\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    id=\"dbSales\"\r\n                    type=\"checkbox\"\r\n                    checked={formData.dashboardSales}\r\n                    onChange={(e) => this.handleChange('dashboardSales', e.target.checked)}\r\n                  />\r\n                  <label className=\"form-check-label\" htmlFor=\"dbSales\">\r\n                    Sales\r\n                  </label>\r\n                </div>\r\n\r\n                <div className=\"form-check mt-2\">\r\n                  <input\r\n                    className=\"form-check-input\"\r\n                    id=\"lockUser\"\r\n                    type=\"checkbox\"\r\n                    checked={formData.lockUser}\r\n                    onChange={(e) => this.handleChange('lockUser', e.target.checked)}\r\n                  />\r\n                  <label className=\"form-check-label\" htmlFor=\"lockUser\">\r\n                    Lock user\r\n                  </label>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* fixed footer like in your screenshot */}\r\n            <div style={{ marginTop: 18, borderTop: '1px solid #e9ecef', paddingTop: 12 }}>\r\n              <button type=\"button\" className=\"btn btn-secondary btn-sm mr-2\" onClick={this.cancelForm}>\r\n                Cancel\r\n              </button>\r\n              <button type=\"submit\" className=\"btn btn-success btn-sm\">\r\n                {this.state.editingId ? 'Update' : 'Create'}\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderTable = () => {\r\n    const { users, loading } = this.state;\r\n    return (\r\n      <div className=\"card mt-3 full-height\">\r\n        <div className=\"card-body\">\r\n          <div className=\"d-flex justify-content-between align-items-center mb-3\">\r\n            <h4 className=\"card-title\">Users</h4>\r\n            <div>\r\n              <button className=\"btn btn-primary btn-sm\" onClick={this.openCreateForm}>\r\n                + Create User\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"custom-table-responsive\">\r\n            <table className=\"table table-bordered table-sm\">\r\n              <thead className=\"thead-light\">\r\n                <tr>\r\n                  <th>User Code</th>\r\n                  <th>User Name</th>\r\n                  <th>E-Mail</th>\r\n                  <th>Responsibility</th>\r\n                  <th>User Rights</th>\r\n                  <th>Dashboard</th>\r\n                  <th>Lock</th>\r\n                  <th>Actions</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {loading && (\r\n                  <tr>\r\n                    <td colSpan=\"8\" className=\"text-center\">\r\n                      Loading...\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n                {!loading &&\r\n                  users.map((u) => (\r\n                    <tr key={u.id}>\r\n                      <td>{u.usercode}</td>\r\n                      <td>{u.username}</td>\r\n                      <td>{u.usermail}</td>\r\n                      <td style={{ maxWidth: 200, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n                        {u.userresp}\r\n                      </td>\r\n                      <td style={{ maxWidth: 200, whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis' }}>\r\n                        {u.userrights}\r\n                      </td>\r\n                      <td>\r\n                        {u.dashboardPurchase ? 'P' : ''}\r\n                        {u.dashboardInventory ? ' I' : ''}\r\n                        {u.dashboardSales ? ' S' : ''}\r\n                      </td>\r\n                      <td>{u.lockUser ? 'Yes' : 'No'}</td>\r\n                      <td>\r\n                        <button className=\"btn btn-sm btn-link p-0 mr-2\" onClick={() => this.openEditForm(u)}>\r\n                          Edit\r\n                        </button>\r\n                        <button className=\"btn btn-sm btn-link text-danger p-0\" onClick={() => this.handleDelete(u)}>\r\n                          Delete\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                {!loading && users.length === 0 && (\r\n                  <tr>\r\n                    <td colSpan=\"8\" className=\"text-center\">\r\n                      No users found\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { showForm } = this.state;\r\n    return <div className=\"container-fluid\">{showForm ? this.renderForm() : this.renderTable()}</div>;\r\n  }\r\n}\r\n\r\nexport default UserCreation;\r\n"]},"metadata":{},"sourceType":"module"}