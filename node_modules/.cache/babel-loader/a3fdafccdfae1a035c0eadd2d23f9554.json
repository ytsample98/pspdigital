{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\College\\\\admin\\\\StarAdmin-Free-React-Admin-Template-master\\\\template\\\\demo_1\\\\src\\\\app\\\\crm\\\\Datalist.js\";\nimport React, { Component } from \"react\";\nimport { db } from \"../../firebase\";\nimport { collection, getDocs, addDoc, updateDoc, deleteDoc, doc } from \"firebase/firestore\";\nimport { Country, State, City } from \"country-state-city\";\nimport { Dropdown } from \"react-bootstrap\";\nlet accountCounter = 100;\n\nfunction generateAccountNo() {\n  accountCounter++;\n  return `AC${accountCounter}`;\n}\n\nclass Datalist extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      accounts: [],\n      showForm: false,\n      showPreview: false,\n      editingId: null,\n      previewTab: \"showAll\",\n      search: \"\",\n      comments: [],\n      contactLine: {\n        name: \"\",\n        designation: \"\",\n        phone: \"\",\n        mail: \"\",\n        linkedin: \"\"\n      },\n      formData: {\n        acno: \"\",\n        acname: \"\",\n        contact: \"\",\n        email: \"\",\n        website: \"\",\n        phone: \"\",\n        country: \"\",\n        state: \"\",\n        city: \"\",\n        contactPersons: [],\n        editIndex: null\n      }\n    };\n\n    this.fetchAccounts = async () => {\n      const snap = await getDocs(collection(db, \"accounts\"));\n      const accounts = snap.docs.map(d => ({\n        id: d.id,\n        ...d.data()\n      }));\n      this.setState({\n        accounts\n      });\n    };\n\n    this.toggleForm = (edit = null) => {\n      if (edit) {\n        this.setState({\n          showForm: true,\n          editingId: edit.id,\n          formData: { ...edit,\n            editIndex: null\n          },\n          showPreview: false\n        });\n      } else {\n        this.setState({\n          showForm: true,\n          editingId: null,\n          showPreview: false,\n          formData: {\n            acno: generateAccountNo(),\n            acname: \"\",\n            contact: \"\",\n            email: \"\",\n            website: \"\",\n            phone: \"\",\n            country: \"\",\n            state: \"\",\n            city: \"\",\n            contactPersons: [],\n            editIndex: null\n          }\n        });\n      }\n    };\n\n    this.togglePreview = acc => {\n      this.setState({\n        formData: { ...acc\n        },\n        showPreview: true,\n        showForm: false\n      });\n    };\n\n    this.handleChange = (field, value) => {\n      this.setState(prev => ({\n        formData: { ...prev.formData,\n          [field]: value\n        }\n      }));\n    };\n\n    this.handleContactLineChange = (field, value) => {\n      this.setState(prev => ({\n        contactLine: { ...prev.contactLine,\n          [field]: value\n        }\n      }));\n    };\n\n    this.addOrUpdateContact = () => {\n      const {\n        contactLine,\n        formData\n      } = this.state;\n      if (!contactLine.name) return alert(\"Name required\");\n      let list = [...formData.contactPersons];\n\n      if (formData.editIndex !== null) {\n        list[formData.editIndex] = contactLine;\n      } else {\n        list.push(contactLine);\n      }\n\n      this.setState({\n        formData: { ...formData,\n          contactPersons: list,\n          editIndex: null\n        },\n        contactLine: {\n          name: \"\",\n          designation: \"\",\n          phone: \"\",\n          mail: \"\",\n          linkedin: \"\"\n        }\n      });\n    };\n\n    this.editContact = idx => {\n      const cp = this.state.formData.contactPersons[idx];\n      this.setState({\n        contactLine: { ...cp\n        },\n        formData: { ...this.state.formData,\n          editIndex: idx\n        }\n      });\n    };\n\n    this.handleSubmit = async e => {\n      e.preventDefault();\n      const {\n        editingId,\n        formData\n      } = this.state;\n      if (!formData.acname) return alert(\"Account Name required\");\n\n      if (editingId) {\n        await updateDoc(doc(db, \"accounts\", editingId), formData);\n      } else {\n        await addDoc(collection(db, \"accounts\"), formData);\n      }\n\n      this.setState({\n        showForm: false,\n        editingId: null\n      });\n      this.fetchAccounts();\n    };\n\n    this.handleDelete = async id => {\n      await deleteDoc(doc(db, \"accounts\", id));\n      this.fetchAccounts();\n    };\n\n    this.renderForm = () => {\n      const {\n        formData,\n        contactLine\n      } = this.state;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card full-height\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          flex: 1,\n          overflowY: \"auto\",\n          padding: \"24px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }\n      }, \"Account Creation/Update\"), /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, \"Account No\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        value: formData.acno,\n        readOnly: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 17\n        }\n      }, \"Account Name \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 32\n        }\n      }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        value: formData.acname,\n        type: \"text\",\n        onChange: e => this.handleChange(\"acname\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 17\n        }\n      }, \"Contact\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        type: \"text\",\n        value: formData.contact,\n        onChange: e => this.handleChange(\"contact\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        type: \"email\",\n        value: formData.email,\n        onChange: e => this.handleChange(\"email\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 17\n        }\n      }, \"Website \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 27\n        }\n      }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        type: \"website\",\n        value: formData.website,\n        onChange: e => this.handleChange(\"website\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group col-md-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 17\n        }\n      }, \"Phone \", /*#__PURE__*/React.createElement(\"span\", {\n        style: {\n          color: \"red\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }\n      }, \"*\")), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control form-control-sm\",\n        type: \"number\",\n        value: formData.phone,\n        onChange: e => this.handleChange(\"phone\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 13\n        }\n      }, \"Contact Persons\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control col-md-2 mr-3\",\n        placeholder: \"Name\",\n        value: contactLine.name,\n        onChange: e => this.handleContactLineChange(\"name\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control col-md-2 mr-3\",\n        placeholder: \"Designation\",\n        value: contactLine.designation,\n        onChange: e => this.handleContactLineChange(\"designation\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control col-md-2 mr-2\",\n        placeholder: \"Phone\",\n        value: contactLine.phone,\n        onChange: e => this.handleContactLineChange(\"phone\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control col-md-2 mr-2\",\n        placeholder: \"Mail\",\n        value: contactLine.mail,\n        onChange: e => this.handleContactLineChange(\"mail\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control col-md-2 mr-2\",\n        placeholder: \"LinkedIn\",\n        value: contactLine.linkedin,\n        onChange: e => this.handleContactLineChange(\"linkedin\", e.target.value),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-primary btn-sm\",\n        onClick: this.addOrUpdateContact,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 15\n        }\n      }, formData.editIndex !== null ? \"Update\" : \"Add\")), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered table-sm mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 19\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 19\n        }\n      }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 19\n        }\n      }, \"Designation\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 19\n        }\n      }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 19\n        }\n      }, \"Mail\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 19\n        }\n      }, \"LinkedIn\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 15\n        }\n      }, formData.contactPersons.map((cp, idx) => /*#__PURE__*/React.createElement(\"tr\", {\n        key: idx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        type: \"radio\",\n        name: \"editCp\",\n        onChange: () => this.editContact(idx),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 23\n        }\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 21\n        }\n      }, cp.name), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 21\n        }\n      }, cp.designation), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 21\n        }\n      }, cp.phone), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 21\n        }\n      }, cp.mail), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }\n      }, cp.linkedin))), formData.contactPersons.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"6\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 21\n        }\n      }, \"No contacts added\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"fixed-card-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-secondary btn-sm mr-2\",\n        onClick: () => this.setState({\n          showForm: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }\n      }, \"Cancel\"), /*#__PURE__*/React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-success btn-sm \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 17\n        }\n      }, \"Save\")))));\n    };\n\n    this.renderPreview = () => {\n      const {\n        formData,\n        previewTab\n      } = this.state;\n\n      const renderRow = (label, val) => /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        style: {\n          width: \"30%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"b\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }\n      }, label)), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 9\n        }\n      }, val || \"-\"));\n\n      const renderContacts = () => /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered table-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 9\n        }\n      }, formData.contactPersons.map((c, i) => /*#__PURE__*/React.createElement(React.Fragment, {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }\n      }, renderRow(\"Name\", c.name), renderRow(\"Designation\", c.designation), renderRow(\"Phone\", c.phone), renderRow(\"Mail\", c.mail), renderRow(\"LinkedIn\", c.linkedin)))));\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card p-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 11\n        }\n      }, \"Account Preview\"), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-outline-primary btn-sm mr-2\",\n        onClick: () => this.toggleForm(formData),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }\n      }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-outline-secondary btn-sm\",\n        onClick: () => this.setState({\n          showPreview: false\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }\n      }, \"Back\"))), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered table-sm mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }\n      }, renderRow(\"Account No\", formData.acno), renderRow(\"Account Name\", formData.acname), renderRow(\"Email\", formData.email), renderRow(\"Website\", formData.website), renderRow(\"Phone\", formData.phone))), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"nav nav-tabs mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 9\n        }\n      }, [\"showAll\", \"remarks\", \"contacts\", \"comments\"].map(k => /*#__PURE__*/React.createElement(\"li\", {\n        className: \"nav-item\",\n        key: k,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: `nav-link ${previewTab === k ? \"active\" : \"\"}`,\n        onClick: () => this.setState({\n          previewTab: k\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 15\n        }\n      }, k === \"showAll\" ? \"Show All\" : k.charAt(0).toUpperCase() + k.slice(1))))), previewTab === \"contacts\" && renderContacts(), previewTab === \"remarks\" && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 38\n        }\n      }, \"Remarks data fetch placeholder\"), previewTab === \"comments\" && /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"form-control mb-2\",\n        placeholder: \"Add comment\",\n        onChange: e => this.setState({\n          newComment: e.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: () => this.setState(prev => ({\n          comments: [...prev.comments, prev.newComment],\n          newComment: \"\"\n        })),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 13\n        }\n      }, \"Add Comment\"), /*#__PURE__*/React.createElement(\"ul\", {\n        className: \"mt-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }\n      }, this.state.comments.map((c, i) => /*#__PURE__*/React.createElement(\"li\", {\n        key: i,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 17\n        }\n      }, c)))), previewTab === \"showAll\" && /*#__PURE__*/React.createElement(React.Fragment, null, renderContacts(), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 13\n        }\n      }, \"Remarks Placeholder\"), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }\n      }, \"Comments: \", this.state.comments.join(\", \"))));\n    };\n\n    this.renderTable = () => {\n      const {\n        accounts,\n        search\n      } = this.state;\n      const filtered = accounts.filter(a => a.acname.toLowerCase().includes(search.toLowerCase()));\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card mt-4 full-height\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"card-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"d-flex justify-content-between mb-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }\n      }, \"Accounts\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm\",\n        onClick: () => this.toggleForm(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }\n      }, \"+ Add Account\")), /*#__PURE__*/React.createElement(\"input\", {\n        className: \"form-control mb-2\",\n        placeholder: \"Search account name...\",\n        value: search,\n        onChange: e => this.setState({\n          search: e.target.value\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"table table-bordered table-sm\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        className: \"thead-light\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 17\n        }\n      }, \"A/c No\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 17\n        }\n      }, \"Account Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 17\n        }\n      }, \"Contact\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 17\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 17\n        }\n      }, \"Phone\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 17\n        }\n      }, \"Country\"), /*#__PURE__*/React.createElement(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362,\n          columnNumber: 17\n        }\n      }, \"Actions\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }\n      }, filtered.map(acc => {\n        var _Country$getCountryBy;\n\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          key: acc.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 17\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-link p-0\",\n          onClick: () => this.togglePreview(acc),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 21\n          }\n        }, acc.acno)), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 19\n          }\n        }, acc.acname), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 19\n          }\n        }, acc.contact), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 19\n          }\n        }, acc.email), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 19\n          }\n        }, acc.phone), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 19\n          }\n        }, ((_Country$getCountryBy = Country.getCountryByCode(acc.country)) === null || _Country$getCountryBy === void 0 ? void 0 : _Country$getCountryBy.name) || \"\"), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 19\n          }\n        }, /*#__PURE__*/React.createElement(Dropdown, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n          variant: \"outline-primary\",\n          size: \"sm\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 23\n          }\n        }, \"Actions\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 381,\n            columnNumber: 23\n          }\n        }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n          onClick: () => this.toggleForm(acc),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 25\n          }\n        }, \"Edit\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n          onClick: () => this.toggleForm(acc),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 25\n          }\n        }, \"Add Contact\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n          onClick: () => this.handleDelete(acc.id),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 25\n          }\n        }, \"Delete\")))));\n      }), filtered.length === 0 && /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        colSpan: \"7\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 19\n        }\n      }, \"No records found\"))))));\n    };\n  }\n\n  componentDidMount() {\n    this.fetchAccounts();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 7\n      }\n    }, this.state.showForm ? this.renderForm() : this.state.showPreview ? this.renderPreview() : this.renderTable());\n  }\n\n}\n\nexport default Datalist;","map":{"version":3,"sources":["C:/Users/College/admin/StarAdmin-Free-React-Admin-Template-master/template/demo_1/src/app/crm/Datalist.js"],"names":["React","Component","db","collection","getDocs","addDoc","updateDoc","deleteDoc","doc","Country","State","City","Dropdown","accountCounter","generateAccountNo","Datalist","state","accounts","showForm","showPreview","editingId","previewTab","search","comments","contactLine","name","designation","phone","mail","linkedin","formData","acno","acname","contact","email","website","country","city","contactPersons","editIndex","fetchAccounts","snap","docs","map","d","id","data","setState","toggleForm","edit","togglePreview","acc","handleChange","field","value","prev","handleContactLineChange","addOrUpdateContact","alert","list","push","editContact","idx","cp","handleSubmit","e","preventDefault","handleDelete","renderForm","flex","overflowY","padding","color","target","length","renderPreview","renderRow","label","val","width","renderContacts","c","i","k","charAt","toUpperCase","slice","newComment","join","renderTable","filtered","filter","a","toLowerCase","includes","getCountryByCode","componentDidMount","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { db } from \"../../firebase\";\r\nimport { collection, getDocs, addDoc, updateDoc, deleteDoc, doc } from \"firebase/firestore\";\r\nimport { Country, State, City } from \"country-state-city\";\r\nimport { Dropdown } from \"react-bootstrap\";\r\n\r\nlet accountCounter = 100;\r\nfunction generateAccountNo() {\r\n  accountCounter++;\r\n  return `AC${accountCounter}`;\r\n}\r\n\r\nclass Datalist extends Component {\r\n  state = {\r\n    accounts: [],\r\n    showForm: false,\r\n    showPreview: false,\r\n    editingId: null,\r\n    previewTab: \"showAll\",\r\n    search: \"\",\r\n    comments: [],\r\n    contactLine: {\r\n      name: \"\",\r\n      designation: \"\",\r\n      phone: \"\",\r\n      mail: \"\",\r\n      linkedin: \"\"\r\n    },\r\n    formData: {\r\n      acno: \"\",\r\n      acname: \"\",\r\n      contact: \"\",\r\n      email: \"\",\r\n      website: \"\",\r\n      phone: \"\",\r\n      country: \"\",\r\n      state: \"\",\r\n      city: \"\",\r\n      contactPersons: [],\r\n      editIndex: null\r\n    }\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.fetchAccounts();\r\n  }\r\n\r\n  fetchAccounts = async () => {\r\n    const snap = await getDocs(collection(db, \"accounts\"));\r\n    const accounts = snap.docs.map((d) => ({ id: d.id, ...d.data() }));\r\n    this.setState({ accounts });\r\n  };\r\n\r\n  toggleForm = (edit = null) => {\r\n    if (edit) {\r\n      this.setState({\r\n        showForm: true,\r\n        editingId: edit.id,\r\n        formData: { ...edit, editIndex: null },\r\n        showPreview: false\r\n      });\r\n    } else {\r\n      this.setState({\r\n        showForm: true,\r\n        editingId: null,\r\n        showPreview: false,\r\n        formData: {\r\n          acno: generateAccountNo(),\r\n          acname: \"\",\r\n          contact: \"\",\r\n          email: \"\",\r\n          website: \"\",\r\n          phone: \"\",\r\n          country: \"\",\r\n          state: \"\",\r\n          city: \"\",\r\n          contactPersons: [],\r\n          editIndex: null\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  togglePreview = (acc) => {\r\n    this.setState({\r\n      formData: { ...acc },\r\n      showPreview: true,\r\n      showForm: false\r\n    });\r\n  };\r\n\r\n  handleChange = (field, value) => {\r\n    this.setState((prev) => ({ formData: { ...prev.formData, [field]: value } }));\r\n  };\r\n\r\n  handleContactLineChange = (field, value) => {\r\n    this.setState((prev) => ({ contactLine: { ...prev.contactLine, [field]: value } }));\r\n  };\r\n\r\n  addOrUpdateContact = () => {\r\n    const { contactLine, formData } = this.state;\r\n    if (!contactLine.name) return alert(\"Name required\");\r\n    let list = [...formData.contactPersons];\r\n    if (formData.editIndex !== null) {\r\n      list[formData.editIndex] = contactLine;\r\n    } else {\r\n      list.push(contactLine);\r\n    }\r\n    this.setState({\r\n      formData: { ...formData, contactPersons: list, editIndex: null },\r\n      contactLine: { name: \"\", designation: \"\", phone: \"\", mail: \"\", linkedin: \"\" }\r\n    });\r\n  };\r\n\r\n  editContact = (idx) => {\r\n    const cp = this.state.formData.contactPersons[idx];\r\n    this.setState({ contactLine: { ...cp }, formData: { ...this.state.formData, editIndex: idx } });\r\n  };\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { editingId, formData } = this.state;\r\n    if (!formData.acname) return alert(\"Account Name required\");\r\n    if (editingId) {\r\n      await updateDoc(doc(db, \"accounts\", editingId), formData);\r\n    } else {\r\n      await addDoc(collection(db, \"accounts\"), formData);\r\n    }\r\n    this.setState({ showForm: false, editingId: null });\r\n    this.fetchAccounts();\r\n  };\r\n\r\n  handleDelete = async (id) => {\r\n    await deleteDoc(doc(db, \"accounts\", id));\r\n    this.fetchAccounts();\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { formData, contactLine } = this.state;\r\n    return (\r\n      <div className=\"card full-height\">\r\n        <div style={{ flex: 1, overflowY: \"auto\", padding: \"24px\" }}>\r\n          <h4>Account Creation/Update</h4>\r\n          <form onSubmit={this.handleSubmit}>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-3\">\r\n                <label>Account No</label>\r\n                <input className=\"form-control form-control-sm\" value={formData.acno} readOnly />\r\n              </div>\r\n              <div className=\"form-group col-md-4\">\r\n                <label>\r\n                  Account Name <span style={{ color: \"red\" }}>*</span>\r\n                </label>\r\n                <input\r\n                  className=\"form-control form-control-sm\"\r\n                  value={formData.acname}\r\n                  type=\"text\"\r\n                  onChange={(e) => this.handleChange(\"acname\", e.target.value)}\r\n                />\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label>Contact</label>\r\n                <input className=\"form-control form-control-sm\" type=\"text\" value={formData.contact} onChange={(e) => this.handleChange(\"contact\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group col-md-3\">\r\n                <label>Email</label>\r\n                <input className=\"form-control form-control-sm\" type=\"email\" value={formData.email} onChange={(e) => this.handleChange(\"email\", e.target.value)} />\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label>\r\n                  Website <span style={{ color: \"red\" }}>*</span>\r\n                </label>\r\n                <input className=\"form-control form-control-sm\" type=\"website\" value={formData.website} onChange={(e) => this.handleChange(\"website\", e.target.value)} />\r\n              </div>\r\n              <div className=\"form-group col-md-3\">\r\n                <label>\r\n                  Phone <span style={{ color: \"red\" }}>*</span>\r\n                </label>\r\n                <input className=\"form-control form-control-sm\" type=\"number\" value={formData.phone} onChange={(e) => this.handleChange(\"phone\", e.target.value)} />\r\n              </div>\r\n            </div>\r\n\r\n            {/* Contact Line Item Table */}\r\n            <h5>Contact Persons</h5>\r\n            <div className=\"form-row\">\r\n              <input className=\"form-control col-md-2 mr-3\" placeholder=\"Name\" value={contactLine.name} onChange={(e) => this.handleContactLineChange(\"name\", e.target.value)} />\r\n              <input className=\"form-control col-md-2 mr-3\" placeholder=\"Designation\" value={contactLine.designation} onChange={(e) => this.handleContactLineChange(\"designation\", e.target.value)} />\r\n              <input className=\"form-control col-md-2 mr-2\" placeholder=\"Phone\" value={contactLine.phone} onChange={(e) => this.handleContactLineChange(\"phone\", e.target.value)} />\r\n              <input className=\"form-control col-md-2 mr-2\" placeholder=\"Mail\" value={contactLine.mail} onChange={(e) => this.handleContactLineChange(\"mail\", e.target.value)} />\r\n              <input className=\"form-control col-md-2 mr-2\" placeholder=\"LinkedIn\" value={contactLine.linkedin} onChange={(e) => this.handleContactLineChange(\"linkedin\", e.target.value)} />\r\n              <button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={this.addOrUpdateContact}>\r\n                {formData.editIndex !== null ? \"Update\" : \"Add\"}\r\n              </button>\r\n            </div>\r\n\r\n            <table className=\"table table-bordered table-sm mt-2\">\r\n              <thead>\r\n                <tr>\r\n                  <th>Edit</th>\r\n                  <th>Name</th>\r\n                  <th>Designation</th>\r\n                  <th>Phone</th>\r\n                  <th>Mail</th>\r\n                  <th>LinkedIn</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {formData.contactPersons.map((cp, idx) => (\r\n                  <tr key={idx}>\r\n                    <td>\r\n                      <input type=\"radio\" name=\"editCp\" onChange={() => this.editContact(idx)} />\r\n                    </td>\r\n                    <td>{cp.name}</td>\r\n                    <td>{cp.designation}</td>\r\n                    <td>{cp.phone}</td>\r\n                    <td>{cp.mail}</td>\r\n                    <td>{cp.linkedin}</td>\r\n                  </tr>\r\n                ))}\r\n                {formData.contactPersons.length === 0 && (\r\n                  <tr>\r\n                    <td colSpan=\"6\" className=\"text-center\">\r\n                      No contacts added\r\n                    </td>\r\n                  </tr>\r\n                )}\r\n              </tbody>\r\n            </table>\r\n\r\n            <div className=\"fixed-card-footer\">\r\n            \r\n              <button type=\"button\" className=\"btn btn-secondary btn-sm mr-2\" onClick={() => this.setState({ showForm: false })}>\r\n                Cancel\r\n              </button>\r\n                <button type=\"submit\" className=\"btn btn-success btn-sm \">\r\n                Save\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderPreview = () => {\r\n    const { formData, previewTab } = this.state;\r\n    const renderRow = (label, val) => (\r\n      <tr>\r\n        <td style={{ width: \"30%\" }}>\r\n          <b>{label}</b>\r\n        </td>\r\n        <td>{val || \"-\"}</td>\r\n      </tr>\r\n    );\r\n    const renderContacts = () => (\r\n      <table className=\"table table-bordered table-sm\">\r\n        <tbody>\r\n          {formData.contactPersons.map((c, i) => (\r\n            <React.Fragment key={i}>\r\n              {renderRow(\"Name\", c.name)}\r\n              {renderRow(\"Designation\", c.designation)}\r\n              {renderRow(\"Phone\", c.phone)}\r\n              {renderRow(\"Mail\", c.mail)}\r\n              {renderRow(\"LinkedIn\", c.linkedin)}\r\n            </React.Fragment>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    );\r\n    return (\r\n      <div className=\"card p-4\">\r\n        <div className=\"d-flex justify-content-between mb-3\">\r\n          <h4>Account Preview</h4>\r\n          <div>\r\n            <button className=\"btn btn-outline-primary btn-sm mr-2\" onClick={() => this.toggleForm(formData)}>\r\n              Edit\r\n            </button>\r\n            <button className=\"btn btn-outline-secondary btn-sm\" onClick={() => this.setState({ showPreview: false })}>\r\n              Back\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <table className=\"table table-bordered table-sm mb-3\">\r\n          <tbody>\r\n            {renderRow(\"Account No\", formData.acno)}\r\n            {renderRow(\"Account Name\", formData.acname)}\r\n            {renderRow(\"Email\", formData.email)}\r\n            {renderRow(\"Website\", formData.website)}\r\n            {renderRow(\"Phone\", formData.phone)}\r\n          </tbody>\r\n        </table>\r\n\r\n        <ul className=\"nav nav-tabs mb-3\">\r\n          {[\"showAll\", \"remarks\", \"contacts\", \"comments\"].map((k) => (\r\n            <li className=\"nav-item\" key={k}>\r\n              <button className={`nav-link ${previewTab === k ? \"active\" : \"\"}`} onClick={() => this.setState({ previewTab: k })}>\r\n                {k === \"showAll\" ? \"Show All\" : k.charAt(0).toUpperCase() + k.slice(1)}\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n\r\n        {previewTab === \"contacts\" && renderContacts()}\r\n        {previewTab === \"remarks\" && <div>Remarks data fetch placeholder</div>}\r\n        {previewTab === \"comments\" && (\r\n          <div>\r\n            <textarea className=\"form-control mb-2\" placeholder=\"Add comment\" onChange={(e) => this.setState({ newComment: e.target.value })}></textarea>\r\n            <button\r\n              className=\"btn btn-primary btn-sm\"\r\n              onClick={() =>\r\n                this.setState((prev) => ({ comments: [...prev.comments, prev.newComment], newComment: \"\" }))\r\n              }\r\n            >\r\n              Add Comment\r\n            </button>\r\n            <ul className=\"mt-2\">\r\n              {this.state.comments.map((c, i) => (\r\n                <li key={i}>{c}</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n        {previewTab === \"showAll\" && (\r\n          <>\r\n            {renderContacts()}\r\n            <hr />\r\n            <div>Remarks Placeholder</div>\r\n            <hr />\r\n            <div>Comments: {this.state.comments.join(\", \")}</div>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderTable = () => {\r\n    const { accounts, search } = this.state;\r\n    const filtered = accounts.filter((a) => a.acname.toLowerCase().includes(search.toLowerCase()));\r\n    return (\r\n      <div className=\"card mt-4 full-height\">\r\n        <div className=\"card-body\">\r\n          <div className=\"d-flex justify-content-between mb-3\">\r\n            <h4>Accounts</h4>\r\n            <button className=\"btn btn-primary btn-sm\" onClick={() => this.toggleForm()}>\r\n              + Add Account\r\n            </button>\r\n          </div>\r\n          <input className=\"form-control mb-2\" placeholder=\"Search account name...\" value={search} onChange={(e) => this.setState({ search: e.target.value })} />\r\n          <table className=\"table table-bordered table-sm\">\r\n            <thead className=\"thead-light\">\r\n              <tr>\r\n                <th>A/c No</th>\r\n                <th>Account Name</th>\r\n                <th>Contact</th>\r\n                <th>Email</th>\r\n                <th>Phone</th>\r\n                <th>Country</th>\r\n                <th>Actions</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filtered.map((acc) => (\r\n                <tr key={acc.id}>\r\n                  <td>\r\n                    <button className=\"btn btn-link p-0\" onClick={() => this.togglePreview(acc)}>\r\n                      {acc.acno}\r\n                    </button>\r\n                  </td>\r\n                  <td>{acc.acname}</td>\r\n                  <td>{acc.contact}</td>\r\n                  <td>{acc.email}</td>\r\n                  <td>{acc.phone}</td>\r\n                  <td>{Country.getCountryByCode(acc.country)?.name || \"\"}</td>\r\n                  <td>\r\n                    <Dropdown>\r\n                      <Dropdown.Toggle variant=\"outline-primary\" size=\"sm\">Actions</Dropdown.Toggle>\r\n                      <Dropdown.Menu>\r\n                        <Dropdown.Item onClick={() => this.toggleForm(acc)}>Edit</Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => this.toggleForm(acc)}>Add Contact</Dropdown.Item>\r\n                        <Dropdown.Item onClick={() => this.handleDelete(acc.id)}>Delete</Dropdown.Item>\r\n                      </Dropdown.Menu>\r\n                    </Dropdown>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n              {filtered.length === 0 && (\r\n                <tr>\r\n                  <td colSpan=\"7\" className=\"text-center\">\r\n                    No records found\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid\">\r\n        {this.state.showForm ? this.renderForm() : this.state.showPreview ? this.renderPreview() : this.renderTable()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Datalist;\r\n"]},"metadata":{},"sourceType":"module"}